function k(a,b,c,d){a.l.eb(a.Wb,b,c,d)}function aa(a,b,c,d){a.l.ua?k(a,b,c,d):a.l.Jf()._OnMessageFromDOM({type:"event",component:a.Wb,handler:b,dispatchOpts:d||null,data:c,responseId:null})}function ba(a,b,c){a.l.G(a.Wb,b,c)}function ca(a,b){for(const [c,d]of b)ba(a,c,d)}function da(a){a.Cc||(a.l.fd(a.Pe),a.Cc=!0)}window.bb=class{constructor(a,b){this.l=a;this.Wb=b;this.Cc=!1;this.Pe=()=>this.ub()}Vd(){}ub(){}};function ea(a){-1!==a.Rd&&(self.clearTimeout(a.Rd),a.Rd=-1)}
window.Ag=class{constructor(){this.Rd=-1;this.ag=!1}ge(){this.ag||ea(this)}j(){ea(this)}};"use strict";function fa(a,b){ba(a,"get-element",c=>{const d=n(a,c.elementId);return b(d,c)})}function n(a,b){a=a.Ab.get(b);if(!a)throw Error(`no element with id ${b}`);return a.Ac}
window.$d=class extends self.bb{constructor(a,b){super(a,b);this.Ab=new Map;this.Ub=!0;ca(this,[["create",()=>{throw Error("required override");}],["destroy",c=>{c=c.elementId;const d=n(this,c);this.Ub&&d.parentElement.removeChild(d);this.Ab.delete(c)}],["set-visible",c=>{if(this.Ub){var d=this.Ab.get(c.elementId),e=d.Ac;d.ye?e.style.display=c.isVisible?"":"none":d.cg=!!c.isVisible}}],["update-position",c=>{if(this.Ub){var d=this.Ab.get(c.elementId),e=d.Ac,f=this.l;e.style.left=c.left+"px";e.style.top=
c.top+"px";e.style.width=c.width+"px";e.style.height=c.height+"px";var g=c.fontSize;null!==g&&(e.style.fontSize=g+"em");g=c.htmlIndex;d.ig=g;g=f.be(g);g!==d.kb&&(e.remove(),f.Yc(g).appendChild(e),d.kb=g,f.rd());c=c.htmlZIndex;c!==d.Ad&&(d.Ad=c,f.rd());d.ye||(d.ye=!0,d.cg&&(e.style.display=""))}}],["update-state",c=>{n(this,c.elementId);throw Error("required override");}],["focus",c=>this.od(c)],["set-css-style",c=>{const d=n(this,c.elementId),e=c.prop;c=c.val;e.startsWith("--")?d.style.setProperty(e,
c):d.style[e]=c}],["set-attribute",c=>{n(this,c.elementId).setAttribute(c.name,c.val)}],["remove-attribute",c=>{n(this,c.elementId).removeAttribute(c.name)}]]);fa(this,c=>c)}od(a){var b=n(this,a.elementId);a.focus?b.focus():b.blur()}};"use strict";const ha=/(iphone|ipod|ipad|macos|macintosh|mac os x)/i.test(navigator.userAgent),ia=/android/i.test(navigator.userAgent);let ja=0;
function ka(a){const b=document.createElement("script");b.async=!1;b.type="module";return a.ng?new Promise(c=>{const d="c3_resolve_"+ja;++ja;self[d]=c;b.textContent=a.ug+`\n\nself["${d}"]();`;document.head.appendChild(b)}):new Promise((c,d)=>{b.onload=c;b.onerror=d;b.src=a;document.head.appendChild(b)})}
async function la(){if(!navigator.userActivation||"undefined"===typeof OffscreenCanvas)return!1;try{let a=!1;const b=new Worker(URL.createObjectURL(new Blob(['\n\tself.addEventListener("message", () =>\n\t{\n\t\ttry {\n\t\t\tconst offscreenCanvas = new OffscreenCanvas(32, 32);\n\t\t\tconst gl = offscreenCanvas.getContext("webgl");\n\t\t\tself.postMessage(!!gl);\n\t\t}\n\t\tcatch (err)\n\t\t{\n\t\t\tconsole.warn("Feature detection worker error:", err);\n\t\t\tself.postMessage(false);\n\t\t}\n\t});'],{type:"text/javascript"})),
{get type(){a=!0}}),c=await new Promise(d=>{b.addEventListener("message",e=>{b.terminate();d(e.data)});b.postMessage("")});return a&&c}catch(a){return console.warn("Error feature detecting worker mode: ",a),!1}}let p=new Audio;
const ma={"audio/webm; codecs=opus":!!p.canPlayType("audio/webm; codecs=opus"),"audio/ogg; codecs=opus":!!p.canPlayType("audio/ogg; codecs=opus"),"audio/webm; codecs=vorbis":!!p.canPlayType("audio/webm; codecs=vorbis"),"audio/ogg; codecs=vorbis":!!p.canPlayType("audio/ogg; codecs=vorbis"),"audio/mp4":!!p.canPlayType("audio/mp4"),"audio/mpeg":!!p.canPlayType("audio/mpeg")};p=null;async function na(a){a=await oa(a);return(new TextDecoder("utf-8")).decode(a)}
function oa(a){return new Promise((b,c)=>{const d=new FileReader;d.onload=e=>b(e.target.result);d.onerror=e=>c(e);d.readAsArrayBuffer(a)})}const pa=[];let qa=0;window.RealFile=window.File;const ra=[],sa=new Map,ta=new Map;let ua=0;const va=[];self.runOnStartup=function(a){if("function"!==typeof a)throw Error("runOnStartup called without a function");va.push(a)};const wa=new Set(["cordova","playable-ad","instant-games"]);let xa=!1;
window.Ia=class a{constructor(b){this.ua=b.wg;this.Wa=null;this.na="";this.Jb=b.sg;this.nc={};this.Db=this.Qa=null;this.zb=[];this.Da=null;this.Ce=!0;this.Y=[];this.Ld=[];this.Md=!1;this.Qe=()=>this.Hf();this.Cd=!1;this.ve=0;this.bc=null;this.Ib=-1;this.hg=()=>this.Sf();this.kc=new Set;this.Sd=null;this.Re=[];this.A=b.Se;this.Dc="file"===location.protocol.substr(0,4);if("playable-ad"===this.A||"instant-games"===this.A)this.ua=!1;if("cordova"===this.A&&this.ua&&ia){const c=/Chrome\/(\d+)/i.exec(navigator.userAgent);
c&&90<=parseInt(c[1],10)||(this.ua=!1)}this.Ha()?self.chrome.webview.addEventListener("message",c=>this.le(c.data)):"macos-wkwebview"===this.A&&(self.C3WrapperOnMessage=c=>this.le(c));this.Fc=this.Ma=null;"html5"!==this.A||window.isSecureContext||console.warn("[Construct] Warning: the browser indicates this is not a secure context. Some features may be unavailable. Use secure (HTTPS) hosting to ensure all features are available.");this.G("canvas","update-size",c=>this.Wf(c));this.G("canvas","set-html-layer-count",
c=>this._OnSetHTMLLayerCount(c));this.G("canvas","cleanup-html-layers",()=>this.Nf());this.G("runtime","cordova-fetch-local-file",c=>this.Of(c));this.G("runtime","create-job-worker",()=>this.Pf());this.G("runtime","send-wrapper-extension-message",c=>this.Vf(c));"cordova"===this.A?document.addEventListener("deviceready",()=>this.tc(b)):this.tc(b)}j(){this.gd();this.Wa&&(this.Wa=this.Wa.onmessage=null);this.Qa&&(this.Qa.terminate(),this.Qa=null);this.Db&&(this.Db.j(),this.Db=null);for(const {canvas:b,
Mb:c}of this.Y)b.remove(),c.remove();this.Y.length=0}qf(){return this.Y[0].canvas}be(b){return Math.min(b,this.Y.length-1)}Yc(b){if(0>b||b>=this.Y.length)throw new RangeError("invalid canvas layer");return this.Y[b].Mb}vf(){return ha&&"cordova"===this.A}Rb(){const b=navigator.userAgent;return ha&&wa.has(this.A)||navigator.standalone||/crios\/|fxios\/|edgios\//i.test(b)}tf(){return ia}ce(){return ia&&wa.has(this.A)}ee(){return"windows-webview2"===this.A||!!("preview"===this.A&&window.chrome&&window.chrome.webview&&
window.chrome.webview.postMessage)}Ha(){return this.ee()||"xbox-uwp-webview2"===this.A}async tc(b){this.ua&&!await la()&&(this.ua=!1);"macos-wkwebview"===this.A?this.ib({type:"ready"}):this.Ha()&&(this.Yf(),this.Re=(await this.Mf()).registeredComponentIds);if("playable-ad"===this.A){this.Ma=self.c3_base64files;this.Fc={};await this.Ef();for(let d=0,e=b.Lb.length;d<e;++d){var c=b.Lb[d];this.Fc.hasOwnProperty(c)?b.Lb[d]={ng:!0,ug:this.Fc[c]}:this.Ma.hasOwnProperty(c)&&(b.Lb[d]=URL.createObjectURL(this.Ma[c]))}b.Uc=
[]}if("nwjs"===this.A&&self.nw&&self.nw.App.manifest["c3-steam-mode"]){let d=0;this.fd(()=>{d++;document.body.style.opacity=0===d%2?"1":"0.999"})}b.rg?this.na=b.rg:(c=location.origin,this.na=("null"===c?"file:///":c)+location.pathname,c=this.na.lastIndexOf("/"),-1!==c&&(this.na=this.na.substr(0,c+1)));b.yg&&(this.nc=b.yg);c=new MessageChannel;this.Wa=c.port1;this.Wa.onmessage=d=>this._OnMessageFromRuntime(d.data);window.c3_addPortMessageHandler&&window.c3_addPortMessageHandler(d=>this.Rf(d));this.bc=
new self.wf(this);await ya(this.bc);"object"===typeof window.StatusBar&&window.StatusBar.hide();if("object"===typeof window.AndroidFullScreen)try{await new Promise((d,e)=>{window.AndroidFullScreen.immersiveMode(d,e)})}catch(d){console.error("Failed to enter Android immersive mode: ",d)}this.ua?await this.Lf(b,c.port2):await this.Kf(b,c.port2)}jd(b){b=this.nc.hasOwnProperty(b)?this.nc[b]:b.endsWith("/workermain.js")&&this.nc.hasOwnProperty("workermain.js")?this.nc["workermain.js"]:"playable-ad"===
this.A&&this.Ma.hasOwnProperty(b)?this.Ma[b]:b;b instanceof Blob&&(b=URL.createObjectURL(b));return b}async Wc(b,c,d){if(b.startsWith("blob:"))return new Worker(b,d);if("cordova"===this.A&&this.Dc)return b=await this.oc(d.mg?b:this.Jb+b),new Worker(URL.createObjectURL(new Blob([b],{type:"application/javascript"})),d);b=new URL(b,c);if(location.origin!==b.origin){b=await fetch(b);if(!b.ok)throw Error("failed to fetch worker script");b=await b.blob();return new Worker(URL.createObjectURL(b),d)}return new Worker(b,
d)}Ja(){return Math.max(window.innerWidth,1)}xa(){return Math.max(window.innerHeight,1)}je(b){var c=this.na,d=location.href,e=this.Ja(),f=this.xa(),g=window.devicePixelRatio,h=a.Qb(),l=b.Fg,m=window.cr_previewImageBlobs||this.Ma,r=window.cr_previewProjectFileBlobs,B=window.cr_previewProjectFiles,C=window.cr_swClientId||"";b=b.Se;var G=(new URLSearchParams(self.location.search)).has("debug"),S=this.bc;return{runtimeBaseUrl:c,previewUrl:d,windowInnerWidth:e,windowInnerHeight:f,devicePixelRatio:g,isFullscreen:h,
projectData:l,previewImageBlobs:m,previewProjectFileBlobs:r,previewProjectFileSWUrls:B,swClientId:C,exportType:b,isDebug:G,ife:!!self.Eg,jobScheduler:{inputPort:S.Bd,outputPort:S.Kd,maxNumWorkers:S.dg},supportedAudioFormats:ma,opusWasmScriptUrl:window.cr_opusWasmScriptUrl||this.Jb+"opus.wasm.js",opusWasmBinaryUrl:window.cr_opusWasmBinaryUrl||this.Jb+"opus.wasm.wasm",isFileProtocol:this.Dc,isiOSCordova:this.vf(),isiOSWebView:this.Rb(),isWindowsWebView2:this.ee(),isAnyWebView2Wrapper:this.Ha(),wrapperComponentIds:this.Re,
isFBInstantAvailable:"undefined"!==typeof self.FBInstant}}async Lf(b,c){const d=this.jd(b.xg);"preview"===this.A?(this.Qa=new Worker("previewworker.js",{type:"module",name:"Runtime"}),await new Promise((m,r)=>{const B=C=>{this.Qa.removeEventListener("message",B);C.data&&"ok"===C.data.type?m():r()};this.Qa.addEventListener("message",B);this.Qa.postMessage({type:"construct-worker-init","import":(new URL(d,this.na)).toString()})})):this.Qa=await this.Wc(d,this.na,{type:"module",name:"Runtime",mg:!0});
const e=document.createElement("canvas");e.style.display="none";const f=e.transferControlToOffscreen();document.body.appendChild(e);const g=document.createElement("div");g.className="c3htmlwrap";document.body.appendChild(g);this.Y.push({canvas:e,Mb:g});window.c3canvas=e;self.C3_InsertHTMLPlaceholders&&self.C3_InsertHTMLPlaceholders();let h=b.Uc||[],l=b.Lb;h=await Promise.all(h.map(m=>this.vb(m)));l=await Promise.all(l.map(m=>this.vb(m)));if("cordova"===this.A)for(let m=0,r=b.Tc.length;m<r;++m){const B=
b.Tc[m],C=B[0];if(C===b.Td||"scriptsInEvents.js"===C||C.endsWith("/scriptsInEvents.js"))B[1]=await this.vb(C)}this.Qa.postMessage(Object.assign(this.je(b),{type:"init-runtime",isInWorker:!0,messagePort:c,canvas:f,workerDependencyScripts:h,engineScripts:l,projectScripts:b.Tc,mainProjectScript:b.Td,projectScriptsStatus:self.C3_ProjectScriptsStatus}),[c,f,...za(this.bc)]);this.zb=ra.map(m=>new m(this));this.ie();Aa(e);Ba(g);Ca(this.Da);self.c3_callFunction=(m,r)=>{var B=this.Da;return B.l.fe(B.Wb,"js-invoke-function",
{name:m,params:r})};"preview"===this.A&&(self.goToLastErrorScript=()=>this.eb("runtime","go-to-last-error-script"))}async Kf(b,c){const d=document.createElement("canvas");d.style.display="none";document.body.appendChild(d);var e=document.createElement("div");e.className="c3htmlwrap";document.body.appendChild(e);this.Y.push({canvas:d,Mb:e});window.c3canvas=d;self.C3_InsertHTMLPlaceholders&&self.C3_InsertHTMLPlaceholders();this.zb=ra.map(h=>new h(this));this.ie();Aa(d);Ba(e);e=b.Lb.map(h=>"string"===
typeof h?(new URL(h,this.na)).toString():h);if(Array.isArray(b.Uc)){var f=[...b.Uc].map(h=>h instanceof Blob?URL.createObjectURL(h):h);e.unshift(...f)}e=await Promise.all(e.map(h=>this.vb(h)));await Promise.all(e.map(h=>ka(h)));e=self.C3_ProjectScriptsStatus;f=b.Td;const g=b.Tc;for(let [h,l]of g)if(l||(l=h),h===f)try{l=await this.vb(l),await ka(l),"preview"!==this.A||e[h]||this.ne(h,"main script did not run to completion")}catch(m){this.ne(h,m)}else if("scriptsInEvents.js"===h||h.endsWith("/scriptsInEvents.js"))l=
await this.vb(l),await ka(l);"preview"===this.A&&"object"!==typeof self.zg.Bg?(this.vc(),console.error("[C3 runtime] Failed to load JavaScript code used in events. Check all your JavaScript code has valid syntax."),alert("Failed to load JavaScript code used in events. Check all your JavaScript code has valid syntax.")):(b=Object.assign(this.je(b),{isInWorker:!1,messagePort:c,canvas:d,runOnStartupFunctions:va}),Ca(this.Da),this.ke(),this.Db=self.C3_CreateRuntime(b),await self.C3_InitRuntime(this.Db,
b))}ne(b,c){this.vc();console.error(`[Preview] Failed to load project main script (${b}): `,c);alert(`Failed to load project main script (${b}). Check all your JavaScript code has valid syntax. Press F12 and check the console for error details.`)}ke(){this.vc()}vc(){const b=window.cr_previewLoadingElem;b&&(b.parentElement.removeChild(b),window.cr_previewLoadingElem=null)}async Pf(){const b=await Da(this.bc);return{outputPort:b,transferables:[b]}}Wf(b){if(!this.Cd){var c=b.styleWidth+"px",d=b.styleHeight+
"px",e=b.marginLeft+"px",f=b.marginTop+"px";for(const {canvas:g,Mb:h}of this.Y)g.style.width=c,g.style.height=d,g.style.marginLeft=e,g.style.marginTop=f,h.style.width=c,h.style.height=d,h.style.marginLeft=e,h.style.marginTop=f,this.Ce&&(g.style.display="",h.style.display="");document.documentElement.style.setProperty("--construct-scale",b.displayScale);this.Ce=!1}}_OnSetHTMLLayerCount(b){var c=b.count,d=b.immediate,e=b.styleWidth+"px",f=b.styleHeight+"px";const g=b.marginLeft+"px",h=b.marginTop+"px";
b=[];const l=[];if(c<this.Y.length)for(;this.Y.length>c;){const {canvas:m,Mb:r}=this.Y.pop();r.remove();this.ua&&!d?this.Ld.push(m):m.remove()}else if(c>this.Y.length)for(let m=0,r=c-this.Y.length;m<r;++m)c=document.createElement("canvas"),c.classList.add("c3overlay"),this.ua?(d=c.transferControlToOffscreen(),b.push(d),l.push(d)):b.push(c),document.body.appendChild(c),d=document.createElement("div"),d.classList.add("c3htmlwrap","c3overlay"),document.body.appendChild(d),c.style.width=e,c.style.height=
f,c.style.marginLeft=g,c.style.marginTop=h,d.style.width=e,d.style.height=f,d.style.marginLeft=g,d.style.marginTop=h,Aa(c),Ba(d),this.Y.push({canvas:c,Mb:d});for(const m of this.zb)if(m instanceof window.$d&&m.Ub)for(const r of m.Ab.values())e=m.l.be(r.ig),f=r.kb,-1!==e&&-1!==f&&e!==f&&(f=r.Ac,f.remove(),m.l.Yc(e).appendChild(f),r.kb=e);this.rd();return{addedCanvases:b,transferables:l}}Nf(){for(const b of this.Ld)b.remove();this.Ld.length=0}rd(){this.Md||(this.Md=!0,this.fd(this.Qe))}Hf(){this.me(this.Qe);
this.Md=!1;let b=[];for(var c of this.zb)if(c instanceof window.$d){var d=c.Ub?[...c.Ab.values()]:null;d&&b.push(...d)}b.sort((g,h)=>{const l=g.kb,m=h.kb;return l!==m?l-m:g.Ad-h.Ad});let e=d=c=0,f=b.length;for(;e<f;++e){const g=b[e];g.kb!==c&&(this.he(c,b.slice(d,e)),c=g.kb,d=e)}d<e&&this.he(c,b.slice(d,e))}he(b,c){if(!(1>=c.length||b>=this.Y.length)){c=c.map(l=>l.Ac);var d=new Set(c);b=this.Yc(b);for(var e=Array.from(b.children).filter(l=>d.has(l)),f=0,g=Math.min(c.length,e.length);f<g&&c[f]===e[f];++f);
for(var h=f;h<g;++h)e[h].remove();for(h=f;h<g;++h)b.appendChild(c[h])}}Jf(){if(this.ua)throw Error("not available in worker mode");return this.Db}eb(b,c,d,e,f){this.Wa.postMessage({type:"event",component:b,handler:c,dispatchOpts:e||null,data:d,responseId:null},f)}fe(b,c,d,e,f){const g=ua++,h=new Promise((l,m)=>{ta.set(g,{resolve:l,reject:m})});this.Wa.postMessage({type:"event",component:b,handler:c,dispatchOpts:e||null,data:d,responseId:g},f);return h}_OnMessageFromRuntime(b){const c=b.type;if("event"===
c)return this.Qf(b);if("result"===c)this.Tf(b);else if("runtime-ready"===c)this.Uf();else if("alert-error"===c)this.vc(),alert(b.message);else if("creating-runtime"===c)this.ke();else throw Error(`unknown message '${c}'`);}Qf(b){const c=b.component,d=b.handler,e=b.data,f=b.responseId;if(b=sa.get(c))if(b=b.get(d)){var g=null;try{g=b(e)}catch(h){console.error(`Exception in '${c}' handler '${d}':`,h);null!==f&&this.uc(f,!1,""+h);return}if(null===f)return g;g&&g.then?g.then(h=>this.uc(f,!0,h)).catch(h=>
{console.error(`Rejection from '${c}' handler '${d}':`,h);this.uc(f,!1,""+h)}):this.uc(f,!0,g)}else console.warn(`[DOM] No handler '${d}' for component '${c}'`);else console.warn(`[DOM] No event handlers for component '${c}'`)}uc(b,c,d){let e;d&&d.transferables&&(e=d.transferables);this.Wa.postMessage({type:"result",responseId:b,isOk:c,result:d},e)}Tf(b){const c=b.responseId,d=b.isOk;b=b.result;const e=ta.get(c);d?e.resolve(b):e.reject(b);ta.delete(c)}G(b,c,d){let e=sa.get(b);e||(e=new Map,sa.set(b,
e));if(e.has(c))throw Error(`[DOM] Component '${b}' already has handler '${c}'`);e.set(c,d)}static rb(b){if(ra.includes(b))throw Error("DOM handler already added");ra.push(b)}ie(){for(const b of this.zb)if("runtime"===b.Wb){this.Da=b;return}throw Error("cannot find runtime DOM handler");}Rf(b){this.eb("debugger","message",b)}Uf(){for(const b of this.zb)b.Vd()}static Qb(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||xa)}static wc(b){xa=!!b}fd(b){this.kc.add(b);
this.qd()}me(b){this.kc.delete(b);0===this.kc.size&&this.gd()}qd(){-1===this.Ib&&0<this.kc.size&&(this.Ib=requestAnimationFrame(this.hg))}gd(){-1!==this.Ib&&(cancelAnimationFrame(this.Ib),this.Ib=-1)}Sf(){this.Ib=-1;for(const b of this.kc)b();this.qd()}hb(b){this.Da.hb(b)}tb(b){this.Da.tb(b)}pd(){this.Da.pd()}sc(b){this.Da.sc(b)}uf(){return!!ma["audio/webm; codecs=opus"]}async Zf(b){b=await this.fe("runtime","opus-decode",{arrayBuffer:b},null,[b]);return new Float32Array(b)}zf(b){this.Cd=!0;this.ve=
b}sf(b){return/^(?:[a-z\-]+:)?\/\//.test(b)||"data:"===b.substr(0,5)||"blob:"===b.substr(0,5)}de(b){return!this.sf(b)}async vb(b){return"cordova"===this.A&&(b.startsWith("file:")||this.Dc&&this.de(b))?(b.startsWith(this.na)&&(b=b.substr(this.na.length)),b=await this.oc(b),URL.createObjectURL(new Blob([b],{type:"application/javascript"}))):b}async Of(b){const c=b.filename;switch(b.as){case "text":return await this.pf(c);case "buffer":return await this.oc(c);default:throw Error("unsupported type");
}}Zd(b){const c=window.cordova.file.applicationDirectory+"www/"+b;return new Promise((d,e)=>{window.resolveLocalFileSystemURL(c,f=>{f.file(d,e)},e)})}async pf(b){b=await this.Zd(b);return await na(b)}hd(){if(pa.length&&!(8<=qa)){qa++;var b=pa.shift();this.Ff(b.filename,b.vg,b.lg)}}oc(b){return new Promise((c,d)=>{pa.push({filename:b,vg:e=>{qa--;this.hd();c(e)},lg:e=>{qa--;this.hd();d(e)}});this.hd()})}async Ff(b,c,d){try{const e=await this.Zd(b),f=await oa(e);c(f)}catch(e){d(e)}}le(b){if("entered-fullscreen"===
b)a.wc(!0),Ea(this.Da);else if("exited-fullscreen"===b)a.wc(!1),Ea(this.Da);else if("object"===typeof b){const c=b.type;"wrapper-init-response"===c?(this.Sd(b),this.Sd=null):"extension-message"===c?this.eb("runtime","wrapper-extension-message",b):console.warn("Unknown wrapper message: ",b)}else console.warn("Unknown wrapper message: ",b)}Vf(b){this.ib({type:"extension-message",componentId:b.componentId,messageId:b.messageId,params:b.params||[],asyncId:b.asyncId})}ib(b){this.Ha()?window.chrome.webview.postMessage(JSON.stringify(b)):
"macos-wkwebview"===this.A&&window.webkit.messageHandlers.C3Wrapper.postMessage(JSON.stringify(b))}Yf(){window.moveTo=(b,c)=>{this.ib({type:"set-window-position",windowX:Math.ceil(b),windowY:Math.ceil(c)})};window.resizeTo=(b,c)=>{this.ib({type:"set-window-size",windowWidth:Math.ceil(b),windowHeight:Math.ceil(c)})}}Mf(){return this.Ha()?new Promise(b=>{this.Sd=b;this.ib({type:"wrapper-init"})}):Promise.resolve()}async Ef(){const b=[];for(const [c,d]of Object.entries(this.Ma))b.push(this.Df(c,d));
await Promise.all(b)}async Df(b,c){if("object"===typeof c)this.Ma[b]=new Blob([c.str],{type:c.type}),this.Fc[b]=c.str;else{let d=await this.If(c);d||(d=this.Gf(c));this.Ma[b]=d}}async If(b){try{return await (await fetch(b)).blob()}catch(c){return console.warn("Failed to fetch a data: URI. Falling back to a slower workaround. This is probably because the Content Security Policy unnecessarily blocked it. Allow data: URIs in your CSP to avoid this.",c),null}}Gf(b){b=this.Xf(b);return this.Cf(b.data,
b.og)}Xf(b){var c=b.indexOf(",");if(0>c)throw new URIError("expected comma in data: uri");var d=b.substring(c+1);c=b.substring(5,c).split(";");b=c[0]||"";const e=c[2];d="base64"===c[1]||"base64"===e?atob(d):decodeURIComponent(d);return{og:b,data:d}}Cf(b,c){var d=b.length;let e=d>>2,f=new Uint8Array(d),g=new Uint32Array(f.buffer,0,e),h,l;for(l=h=0;h<e;++h)g[h]=b.charCodeAt(l++)|b.charCodeAt(l++)<<8|b.charCodeAt(l++)<<16|b.charCodeAt(l++)<<24;for(d&=3;d--;)f[l]=b.charCodeAt(l),++l;return new Blob([f],
{type:c})}};"use strict";const Fa=self.Ia,Ga=new Map([["OSLeft","MetaLeft"],["OSRight","MetaRight"]]),q={dispatchRuntimeEvent:!0,dispatchUserScriptEvent:!0},Ha={dispatchUserScriptEvent:!0},Ja={dispatchRuntimeEvent:!0};function Ka(a){return new Promise((b,c)=>{const d=document.createElement("link");d.onload=()=>b(d);d.onerror=e=>c(e);d.rel="stylesheet";d.href=a;document.head.appendChild(d)})}function La(a){return new Promise((b,c)=>{const d=new Image;d.onload=()=>b(d);d.onerror=e=>c(e);d.src=a})}
async function Ma(a){a=URL.createObjectURL(a);try{return await La(a)}finally{URL.revokeObjectURL(a)}}function Na(a){return new Promise((b,c)=>{let d=new FileReader;d.onload=e=>b(e.target.result);d.onerror=e=>c(e);d.readAsText(a)})}
async function Oa(a,b,c){if(!/firefox/i.test(navigator.userAgent))return await Ma(a);var d=await Na(a);d=(new DOMParser).parseFromString(d,"image/svg+xml");const e=d.documentElement;if(e.hasAttribute("width")&&e.hasAttribute("height")){const f=e.getAttribute("width"),g=e.getAttribute("height");if(!f.includes("%")&&!g.includes("%"))return await Ma(a)}e.setAttribute("width",b+"px");e.setAttribute("height",c+"px");d=(new XMLSerializer).serializeToString(d);a=new Blob([d],{type:"image/svg+xml"});return await Ma(a)}
function Pa(a){do{if(a.parentNode&&a.hasAttribute("contenteditable"))return!0;a=a.parentNode}while(a);return!1}const Qa=new Set(["input","textarea","datalist","select"]),Ra=new Set(["canvas","body","html"]);function t(a){a.target.tagName&&Ra.has(a.target.tagName.toLowerCase())&&a.preventDefault()}function Sa(a){a.target.tagName&&a.target.classList.contains("c3htmlwrap")&&a.preventDefault()}function Ta(a){(a.metaKey||a.ctrlKey)&&a.preventDefault()}
self.C3_GetSvgImageSize=async function(a){a=await Ma(a);if(0<a.width&&0<a.height)return[a.width,a.height];a.style.position="absolute";a.style.left="0px";a.style.top="0px";a.style.visibility="hidden";document.body.appendChild(a);const b=a.getBoundingClientRect();document.body.removeChild(a);return[b.width,b.height]};self.C3_RasterSvgImageBlob=async function(a,b,c,d,e){a=await Oa(a,b,c);const f=document.createElement("canvas");f.width=d;f.height=e;f.getContext("2d").drawImage(a,0,0,b,c);return f};
let Ua=!1;document.addEventListener("pause",()=>Ua=!0);document.addEventListener("resume",()=>Ua=!1);function Aa(a){a.addEventListener("selectstart",t);a.addEventListener("gesturehold",t);a.addEventListener("pointerdown",t)}function Ba(a){a.addEventListener("selectstart",Sa);a.addEventListener("gesturehold",Sa);a.addEventListener("touchstart",Sa)}function Ca(a){a.ue=!0;a.Fd=a.l.Ja();a.cc=a.l.xa()}
function Ea(a){if(!a.Ba){var b=Fa.Qb();b&&"any"!==a.Pd&&Va(a);k(a,"fullscreenchange",{isFullscreen:b,innerWidth:a.Ja(),innerHeight:a.xa()})}}async function Wa(a){await Promise.all(a.webfonts.map(async b=>{b=new FontFace(b.name,`url('${b.url}')`);document.fonts.add(b);await b.load()}))}
async function Xa(a){var b=a.imageBitmapOpts;a=await self.C3_RasterSvgImageBlob(a.blob,a.imageWidth,a.imageHeight,a.surfaceWidth,a.surfaceHeight);b=b?await createImageBitmap(a,b):await createImageBitmap(a);return{imageBitmap:b,transferables:[b]}}async function ab(a){return await self.C3_GetSvgImageSize(a.blob)}function cb(a){window.c3_postToMessagePort&&(a.from="runtime",window.c3_postToMessagePort(a))}
function db(a){self.setTimeout(()=>{a.te=!0},1E3);"cordova"===a.l.A?(document.addEventListener("pause",()=>eb(a,!0)),document.addEventListener("resume",()=>eb(a,!1))):document.addEventListener("visibilitychange",()=>eb(a,"hidden"===document.visibilityState));a.Jc=!("hidden"!==document.visibilityState&&!Ua);return{isSuspended:a.Jc}}
function fb(a){a.pe||(a.pe=!0,window.addEventListener("deviceorientation",b=>{a.Ba||k(a,"deviceorientation",{absolute:!!b.absolute,alpha:b.alpha||0,beta:b.beta||0,gamma:b.gamma||0,timeStamp:b.timeStamp,webkitCompassHeading:b.webkitCompassHeading,webkitCompassAccuracy:b.webkitCompassAccuracy},q)}),window.addEventListener("deviceorientationabsolute",b=>{a.Ba||k(a,"deviceorientationabsolute",{absolute:!!b.absolute,alpha:b.alpha||0,beta:b.beta||0,gamma:b.gamma||0,timeStamp:b.timeStamp},q)}))}
function gb(a){a.oe||(a.oe=!0,window.addEventListener("devicemotion",b=>{if(!a.Ba){var c=null,d=b.acceleration;d&&(c={x:d.x||0,y:d.y||0,z:d.z||0});d=null;var e=b.accelerationIncludingGravity;e&&(d={x:e.x||0,y:e.y||0,z:e.z||0});e=null;var f=b.rotationRate;f&&(e={alpha:f.alpha||0,beta:f.beta||0,gamma:f.gamma||0});k(a,"devicemotion",{acceleration:c,accelerationIncludingGravity:d,rotationRate:e,interval:b.interval,timeStamp:b.timeStamp},q)}}))}async function hb(a){await Ka(a.url)}
function ib(a,b){a.we=b.message;-1===a.vd&&(a.vd=setTimeout(()=>{a.vd=-1;const c=document.getElementById("exportToVideoMessage");c&&(c.textContent=a.we)},250))}function jb(a,b){console.warn("[Construct] Fullscreen request failed: ",b);k(a,"fullscreenerror",{isFullscreen:Fa.Qb(),innerWidth:a.Ja(),innerHeight:a.xa()})}
function eb(a,b){a.Jc!==b&&((a.Jc=b)?a.l.gd():a.l.qd(),k(a,"visibilitychange",{hidden:b}),!b&&a.l.Rb()&&(a=()=>{document.scrollingElement.scrollTop=0;document.scrollingElement.scrollLeft=0},setTimeout(a,50),setTimeout(a,100),setTimeout(a,250),setTimeout(a,500)))}
function kb(a,b,c){"Backspace"===c.key&&t(c);if(a.l.Ha()){var d=["r","p","f","g","u"];(["F3","F5","F7"].includes(c.key)||c.ctrlKey&&d.includes(c.key))&&c.preventDefault()}a.Ba||(d=Ga.get(c.code)||c.code,aa(a,b,{code:d,key:c.key,which:c.which,repeat:c.repeat,altKey:c.altKey,ctrlKey:c.ctrlKey,metaKey:c.metaKey,shiftKey:c.shiftKey,timeStamp:c.timeStamp},q))}
function lb(a,b,c,d){a.Ba||c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents||c.originalEvent&&c.originalEvent.sourceCapabilities&&c.originalEvent.sourceCapabilities.firesTouchEvents||aa(a,b,{button:c.button,buttons:c.buttons,clientX:c.clientX,clientY:c.clientY+a.Za,pageX:c.pageX,pageY:c.pageY+a.Za,movementX:c.movementX||0,movementY:c.movementY||0,timeStamp:c.timeStamp},d)}
function mb(a,b,c){if(!a.Ba){var d=0;"mouse"===c.pointerType&&(d=a.Id);aa(a,b,{pointerId:c.pointerId,pointerType:c.pointerType,button:c.button,buttons:c.buttons,lastButtons:d,clientX:c.clientX,clientY:c.clientY+a.Za,pageX:c.pageX,pageY:c.pageY+a.Za,movementX:c.movementX||0,movementY:c.movementY||0,width:c.width||0,height:c.height||0,pressure:c.pressure||0,tangentialPressure:c.tangentialPressure||0,tiltX:c.tiltX||0,tiltY:c.tiltY||0,twist:c.twist||0,timeStamp:c.timeStamp},q);"mouse"===c.pointerType&&
(a.Id=c.buttons)}}function nb(a,b,c){document.body.style.position="";document.body.style.overflow="";document.body.style.transform="";a.Za=0;if(0<c){var d=document.activeElement;d&&(d=d.getBoundingClientRect(),b=(d.top+d.bottom)/2-(b-c)/2,b>c&&(b=c),0>b&&(b=0),0<b&&(document.body.style.position="absolute",document.body.style.overflow="visible",document.body.style.transform=`translateY(${-b}px)`,a.Za=b))}}
function ob(a,b,c,d){const e=a.Ja(),f=a.xa();a.Kb=-1;e!=b||f!=c?k(a,"window-resize",{innerWidth:e,innerHeight:f,devicePixelRatio:window.devicePixelRatio,isFullscreen:Fa.Qb()}):10>d&&pb(a,e,f,d+1)}function pb(a,b,c,d){-1!==a.Kb&&clearTimeout(a.Kb);a.Kb=setTimeout(()=>ob(a,b,c,d),48)}
function Va(a){a=a.Pd;if(screen.orientation&&screen.orientation.lock)screen.orientation.lock(a).catch(b=>console.warn("[Construct] Failed to lock orientation: ",b));else try{let b=!1;screen.lockOrientation?b=screen.lockOrientation(a):screen.webkitLockOrientation?b=screen.webkitLockOrientation(a):screen.mozLockOrientation?b=screen.mozLockOrientation(a):screen.msLockOrientation&&(b=screen.msLockOrientation(a));b||console.warn("[Construct] Failed to lock orientation")}catch(b){console.warn("[Construct] Failed to lock orientation: ",
b)}}function qb(a){return!a||a===document||a===window||a===document.body||"canvas"===a.tagName.toLowerCase()}
Fa.rb(class extends self.bb{constructor(a){super(a,"runtime");this.ue=!1;this.Kb=-1;this.Pd="any";this.Jc=this.oe=this.pe=!1;this.Qc=document.createElement("div");this.Qc.className="c3-screen-reader-text";this.Qc.setAttribute("aria-live","polite");document.body.appendChild(this.Qc);this.nb=null;this.Ba=!1;this.we="";this.vd=-1;this.te=!1;this.Fd=a.Ja();this.cc=a.xa();this.Za=this.mc=0;a.G("runtime","invoke-download",c=>{const d=c.url;c=c.filename;const e=document.createElement("a"),f=document.body;
e.textContent=c;e.href=d;e.download=c;f.appendChild(e);e.click();f.removeChild(e)});a.G("runtime","load-webfonts",c=>Wa(c));a.G("runtime","raster-svg-image",c=>Xa(c));a.G("runtime","get-svg-image-size",c=>ab(c));a.G("runtime","set-target-orientation",c=>{this.Pd=c.targetOrientation});a.G("runtime","register-sw",()=>{window.C3_RegisterSW&&window.C3_RegisterSW()});a.G("runtime","post-to-debugger",c=>cb(c));a.G("runtime","go-to-script",c=>cb(c));a.G("runtime","before-start-ticking",()=>db(this));a.G("runtime",
"debug-highlight",c=>{if(c.show){this.nb||(this.nb=document.createElement("div"),this.nb.id="inspectOutline",document.body.appendChild(this.nb));var d=this.nb;d.style.display="";d.style.left=c.left-1+"px";d.style.top=c.top-1+"px";d.style.width=c.width+2+"px";d.style.height=c.height+2+"px";d.textContent=c.name}else this.nb&&(this.nb.style.display="none")});a.G("runtime","enable-device-orientation",()=>fb(this));a.G("runtime","enable-device-motion",()=>gb(this));a.G("runtime","add-stylesheet",c=>hb(c));
a.G("runtime","script-create-worker",c=>{const d=c.port2;(new Worker(c.url,c.opts)).postMessage({type:"construct-worker-init",port2:d},[d])});a.G("runtime","alert",c=>this.md(c));a.G("runtime","screen-reader-text",c=>{var d=c.type;"create"===d?(d=document.createElement("p"),d.id="c3-sr-"+c.id,d.textContent=c.text,this.Qc.appendChild(d)):"update"===d?(d=document.getElementById("c3-sr-"+c.id))?d.textContent=c.text:console.warn(`[Construct] Missing screen reader text with id ${c.id}`):"release"===d?
(d=document.getElementById("c3-sr-"+c.id))?d.remove():console.warn(`[Construct] Missing screen reader text with id ${c.id}`):console.warn(`[Construct] Unknown screen reader text update '${d}'`)});a.G("runtime","hide-cordova-splash",()=>{navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide()});a.G("runtime","set-exporting-to-video",c=>{this.Ba=!0;const d=document.createElement("h1");d.id="exportToVideoMessage";d.textContent=c.message;document.body.prepend(d);document.body.classList.add("exportingToVideo");
this.l.qf().style.display="";this.l.zf(c.duration)});a.G("runtime","export-to-video-progress",c=>ib(this,c));a.G("runtime","exported-to-video",c=>{window.jg({type:"exported-video",arrayBuffer:c.arrayBuffer,contentType:c.contentType,time:c.time})});a.G("runtime","exported-to-image-sequence",c=>{window.jg({type:"exported-image-sequence",blobArr:c.blobArr,time:c.time,gif:c.gif})});const b=new Set(["input","textarea","datalist"]);window.addEventListener("contextmenu",c=>{const d=c.target;b.has(d.tagName.toLowerCase())||
Pa(d)||c.preventDefault()});window.addEventListener("selectstart",t);window.addEventListener("gesturehold",t);window.addEventListener("touchstart",t,{passive:!1});window.addEventListener("pointerdown",t,{passive:!1});this.Id=0;window.addEventListener("mousedown",c=>{1===c.button&&c.preventDefault()});window.addEventListener("mousewheel",Ta,{passive:!1});window.addEventListener("wheel",Ta,{passive:!1});window.addEventListener("resize",()=>{a:{if(!this.Ba&&this.ue){var c=this.Ja();var d=this.xa();if(this.l.ce()){if(this.te){if(this.Fd===
c&&d<this.cc){this.mc=this.cc-d;nb(this,this.cc,this.mc);c=void 0;break a}0<this.mc&&(this.mc=0,nb(this,d,this.mc))}this.Fd=c;this.cc=d}k(this,"window-resize",{innerWidth:c,innerHeight:d,devicePixelRatio:window.devicePixelRatio,isFullscreen:Fa.Qb()});this.l.Rb()&&(-1!==this.Kb&&clearTimeout(this.Kb),ob(this,c,d,0))}c=void 0}return c});window.addEventListener("fullscreenchange",()=>Ea(this));window.addEventListener("webkitfullscreenchange",()=>Ea(this));window.addEventListener("mozfullscreenchange",
()=>Ea(this));window.addEventListener("fullscreenerror",c=>jb(this,c));window.addEventListener("webkitfullscreenerror",c=>jb(this,c));window.addEventListener("mozfullscreenerror",c=>jb(this,c));if(a.Rb()){if(window.visualViewport){let c=Infinity;window.visualViewport.addEventListener("resize",()=>{const d=window.visualViewport.height;d>c&&(document.scrollingElement.scrollTop=0,document.scrollingElement.scrollLeft=0);c=d})}else window.addEventListener("focusout",()=>{{const e=document.activeElement;
if(e){var c=e.tagName.toLowerCase();var d=new Set("email number password search tel text url".split(" "));c="textarea"===c?!0:"input"===c?d.has(e.type.toLowerCase()||"text"):Pa(e)}else c=!1}c||(document.scrollingElement.scrollTop=0)});document.documentElement.setAttribute("ioswebview","")}this.Eb=new Set;this.Hc=new WeakSet;this.Va=!1}Vd(){window.addEventListener("focus",()=>{k(this,"window-focus",null,Ja)});window.addEventListener("blur",()=>{try{var b=window.parent&&window.parent.document.hasFocus()}catch(c){b=
!1}k(this,"window-blur",{parentHasFocus:b},Ja);this.Id=0});window.addEventListener("focusin",b=>{b=b.target;(Qa.has(b.tagName.toLowerCase())||Pa(b))&&k(this,"keyboard-blur",null,Ja)});window.addEventListener("keydown",b=>kb(this,"keydown",b));window.addEventListener("keyup",b=>kb(this,"keyup",b));window.addEventListener("mousedown",b=>lb(this,"mousedown",b,Ha));window.addEventListener("mousemove",b=>lb(this,"mousemove",b,Ha));window.addEventListener("mouseup",b=>lb(this,"mouseup",b,Ha));window.addEventListener("dblclick",
b=>lb(this,"dblclick",b,q));window.addEventListener("wheel",b=>{this.Ba||k(this,"wheel",{clientX:b.clientX,clientY:b.clientY+this.Za,pageX:b.pageX,pageY:b.pageY+this.Za,deltaX:b.deltaX,deltaY:b.deltaY,deltaZ:b.deltaZ,deltaMode:b.deltaMode,timeStamp:b.timeStamp},q)});window.addEventListener("pointerdown",b=>{window!==window.top&&window.focus();qb(b.target)&&document.activeElement&&!qb(document.activeElement)&&document.activeElement.blur();mb(this,"pointerdown",b)});this.l.ua&&"undefined"!==typeof window.onpointerrawupdate&&
self===self.top?window.addEventListener("pointerrawupdate",b=>{mb(this,"pointermove",b)}):window.addEventListener("pointermove",b=>mb(this,"pointermove",b));window.addEventListener("pointerup",b=>mb(this,"pointerup",b));window.addEventListener("pointercancel",b=>mb(this,"pointercancel",b));const a=()=>this.pd();window.addEventListener("pointerup",a,!0);window.addEventListener("touchend",a,!0);window.addEventListener("click",a,!0);window.addEventListener("keydown",a,!0);window.addEventListener("gamepadconnected",
a,!0);this.l.tf()&&!this.l.ce()&&navigator.virtualKeyboard&&(navigator.virtualKeyboard.overlaysContent=!0,navigator.virtualKeyboard.addEventListener("geometrychange",()=>{nb(this,this.xa(),navigator.virtualKeyboard.boundingRect.height)}));this.l.Rb()&&(document.scrollingElement.scrollTop=0,document.scrollingElement.scrollLeft=0)}Ja(){return this.l.Ja()}xa(){return this.l.xa()}pd(){var a=[...this.Eb];this.Eb.clear();if(!this.Va)for(const b of a)(a=b.play())&&a.catch(()=>{this.Hc.has(b)||this.Eb.add(b)})}hb(a){if("function"!==
typeof a.play)throw Error("missing play function");this.Hc.delete(a);let b;try{b=a.play()}catch(c){this.Eb.add(a);return}b&&b.catch(()=>{this.Hc.has(a)||this.Eb.add(a)})}tb(a){this.Eb.delete(a);this.Hc.add(a)}sc(a){this.Va=!!a}md(a){alert(a.message)}});"use strict";
async function ya(a){if(a.$f)throw Error("already initialised");a.$f=!0;var b=a.Xa.jd(("playable-ad"===a.Xa.A?a.Xa.Jb:"")+"dispatchworker.js");a.ud=await a.Xa.Wc(b,a.Vb,{name:"DispatchWorker"});b=new MessageChannel;a.Bd=b.port1;a.ud.postMessage({type:"_init","in-port":b.port2},[b.port2]);a.Kd=await Da(a)}function za(a){return[a.Bd,a.Kd]}
async function Da(a){const b=a.De.length;var c=a.Xa.jd(("playable-ad"===a.Xa.A?a.Xa.Jb:"")+"jobworker.js");c=await a.Xa.Wc(c,a.Vb,{name:"JobWorker"+b});const d=new MessageChannel,e=new MessageChannel;a.ud.postMessage({type:"_addJobWorker",port:d.port1},[d.port1]);c.postMessage({type:"init",number:b,"dispatch-port":d.port2,"output-port":e.port2},[d.port2,e.port2]);a.De.push(c);return e.port1}
self.wf=class{constructor(a){this.Xa=a;this.Vb=a.na;this.Vb="preview"===a.A?this.Vb+"workers/":this.Vb+a.Jb;this.dg=Math.min(navigator.hardwareConcurrency||2,16);this.ud=null;this.De=[];this.Kd=this.Bd=null}};"use strict";window.C3_Is_Supported&&(window.c3_runtimeInterface=new self.Ia({wg:!0,xg:"workermain.js",Lb:["scripts/c3runtime.js"],Tc:[],Td:"",sg:"scripts/",Uc:["box2d.wasm.js"],Se:"html5"}));"use strict";
async function rb(a,b){b=b.type;let c=!0;0===b?c=await sb():1===b&&(c=await tb());k(a,"permission-result",{type:b,result:c})}async function sb(){if(!self.DeviceOrientationEvent||!self.DeviceOrientationEvent.requestPermission)return!0;try{return"granted"===await self.DeviceOrientationEvent.requestPermission()}catch(a){return console.warn("[Touch] Failed to request orientation permission: ",a),!1}}
async function tb(){if(!self.DeviceMotionEvent||!self.DeviceMotionEvent.requestPermission)return!0;try{return"granted"===await self.DeviceMotionEvent.requestPermission()}catch(a){return console.warn("[Touch] Failed to request motion permission: ",a),!1}}self.Ia.rb(class extends self.bb{constructor(a){super(a,"touch");ba(this,"request-permission",b=>rb(this,b))}});"use strict";function ub(){}
function vb(a){window.C3_RegisterSW&&window.OfflineClientInfo&&window.OfflineClientInfo.SetMessageCallback(b=>k(a,"sw-message",b.data))}
function wb(a){a=a.orientation;if(screen.orientation&&screen.orientation.lock)screen.orientation.lock(a).catch(b=>console.warn("[Construct] Failed to lock orientation: ",b));else try{let b=!1;screen.lockOrientation?b=screen.lockOrientation(a):screen.webkitLockOrientation?b=screen.webkitLockOrientation(a):screen.mozLockOrientation?b=screen.mozLockOrientation(a):screen.msLockOrientation&&(b=screen.msLockOrientation(a));b||console.warn("[Construct] Failed to lock orientation")}catch(b){console.warn("[Construct] Failed to lock orientation: ",
b)}}
self.Ia.rb(class extends self.bb{constructor(a){super(a,"browser");this.A="";ca(this,[["get-initial-state",b=>{this.A=b.exportType;return{location:location.toString(),isOnline:!!navigator.onLine,referrer:document.referrer,title:document.title,isCookieEnabled:!!navigator.cookieEnabled,screenWidth:screen.width,screenHeight:screen.height,windowOuterWidth:window.outerWidth,windowOuterHeight:window.outerHeight,isConstructArcade:"undefined"!==typeof window.is_scirra_arcade}}],["ready-for-sw-messages",()=>
vb(this)],["alert",b=>this.md(b)],["close",()=>{navigator.app&&navigator.app.exitApp?navigator.app.exitApp():navigator.device&&navigator.device.exitApp?navigator.device.exitApp():window.close()}],["set-focus",b=>this.od(b)],["vibrate",b=>{navigator.vibrate&&navigator.vibrate(b.pattern)}],["lock-orientation",b=>wb(b)],["unlock-orientation",()=>{try{screen.orientation&&screen.orientation.unlock?screen.orientation.unlock():screen.unlockOrientation?screen.unlockOrientation():screen.webkitUnlockOrientation?
screen.webkitUnlockOrientation():screen.mozUnlockOrientation?screen.mozUnlockOrientation():screen.msUnlockOrientation&&screen.msUnlockOrientation()}catch(b){}}],["navigate",b=>{var c=b.type;if("back"===c)navigator.app&&navigator.app.backHistory?navigator.app.backHistory():window.history.back();else if("forward"===c)window.history.forward();else if("reload"===c)location.reload();else if("url"===c){c=b.url;const d=b.target;b=b.exportType;self.cordova&&self.cordova.InAppBrowser?self.cordova.InAppBrowser.open(c,
"_system"):"preview"===b||this.l.Ha()?window.open(c,"_blank"):this.Cg||(2===d?window.top.location=c:1===d?window.parent.location=c:window.location=c)}else"new-window"===c&&(c=b.url,b=b.tag,self.cordova&&self.cordova.InAppBrowser?self.cordova.InAppBrowser.open(c,"_system"):window.open(c,b))}],["request-fullscreen",b=>{if(this.l.Ha()||"macos-wkwebview"===this.A)self.Ia.wc(!0),this.l.ib({type:"set-fullscreen",fullscreen:!0});else{const c={navigationUI:"auto"};b=b.navUI;1===b?c.navigationUI="hide":2===
b&&(c.navigationUI="show");b=document.documentElement;let d;b.requestFullscreen?d=b.requestFullscreen(c):b.mozRequestFullScreen?d=b.mozRequestFullScreen(c):b.msRequestFullscreen?d=b.msRequestFullscreen(c):b.webkitRequestFullScreen&&(d="undefined"!==typeof Element.ALLOW_KEYBOARD_INPUT?b.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):b.webkitRequestFullScreen());d instanceof Promise&&d.catch(ub)}}],["exit-fullscreen",()=>{if(this.l.Ha()||"macos-wkwebview"===this.A)self.Ia.wc(!1),this.l.ib({type:"set-fullscreen",
fullscreen:!1});else{let b;document.exitFullscreen?b=document.exitFullscreen():document.mozCancelFullScreen?b=document.mozCancelFullScreen():document.msExitFullscreen?b=document.msExitFullscreen():document.webkitCancelFullScreen&&(b=document.webkitCancelFullScreen());b instanceof Promise&&b.catch(ub)}}],["set-hash",b=>{location.hash=b.hash}],["set-document-css-style",b=>{const c=b.prop,d=b.value;var e=b.selector;b=b["is-all"];try{if(e)if(b)var f=Array.from(document.querySelectorAll(e));else{var g=
document.querySelector(e);f=g?[g]:[]}else f=[document.documentElement];e=f;for(const h of e)c.startsWith("--")?h.style.setProperty(c,d):h.style[c]=d}catch(h){console.warn("[Browser] Failed to set style: ",h)}}],["get-document-css-style",b=>{{const d=b.prop;b=b.selector;try{const e=document.querySelector(b);var c=e?{isOk:!0,result:window.getComputedStyle(e).getPropertyValue(d)}:{isOk:!1}}catch(e){console.warn("[Browser] Failed to get style: ",e),c={isOk:!1}}}return c}],["set-window-size",b=>{window.resizeTo(b.windowWidth,
b.windowHeight)}],["set-window-position",b=>{window.moveTo(b.windowX,b.windowY)}]]);window.addEventListener("online",()=>{k(this,"online-state",{isOnline:!0})});window.addEventListener("offline",()=>{k(this,"online-state",{isOnline:!1})});window.addEventListener("hashchange",()=>{k(this,"hashchange",{location:location.toString()})});document.addEventListener("backbutton",()=>{k(this,"backbutton")})}md(a){alert(a.message)}od(a){a=a.isFocus;if("nwjs"===this.A){const b="nwjs"===this.A?nw.Window.get():
null;a?b.focus():b.blur()}else a?window.focus():window.blur()}});"use strict";async function xb(){try{return{isOk:!0,isPersistent:await navigator.storage.persist()}}catch(a){return console.error("[Construct] Error requesting persistent storage: ",a),{isOk:!1}}}
self.Ia.rb(class extends self.bb{constructor(a){super(a,"localstorage");ca(this,[["init",()=>this.tc()],["request-persistent",()=>xb()]])}async tc(){let a=!1;try{a=await navigator.storage.persisted()}catch(b){a=!1,console.warn("[Construct] Error checking storage persisted state: ",b)}return{isPersistent:a}}});"use strict";const yb=180/Math.PI;
async function zb(a,b){if(b.isiOSCordova||b.isSafari)a.Lc=!0;a.Qd=b.timeScaleMode;a.Ie=["equalpower","HRTF","soundfield"][b.panningModel];a.se=["linear","inverse","exponential"][b.distanceModel];a.Je=b.refDistance;a.He=b.maxDistance;a.Le=b.rolloffFactor;if(a.l.Cd)a.Lc=!0,a.g=new OfflineAudioContext({numberOfChannels:2,sampleRate:48E3,length:Math.ceil(48E3*a.l.ve)});else{var c={latencyHint:b.latencyHint};a.Oe||(c.sampleRate=48E3);if("undefined"!==typeof AudioContext)a.g=new AudioContext(c);else if("undefined"!==
typeof webkitAudioContext)a.g=new webkitAudioContext(c);else throw Error("Web Audio API not supported");Ab(a);a.g.onstatechange=()=>{"running"!==a.g.state&&Ab(a);k(a,"audiocontext-state",{audioContextState:a.g.state})}}a.yb=a.g.createGain();a.yb.connect(a.g.destination);c=b.listenerPos;a.ma[0]=c[0];a.ma[1]=c[1];a.ma[2]=c[2];a.g.listener.setPosition(c[0],c[1],c[2]);a.g.listener.setOrientation(...a.ra);self.C3_GetAudioContextCurrentTime=()=>a.g.currentTime;try{await Promise.all(b.preloadList.map(d=>
Bb(a,d.originalUrl,d.url,d.type,!1)))}catch(d){console.error("[Construct] Preloading sounds failed: ",d)}return{sampleRate:a.g.sampleRate,audioContextState:a.g.state,outputLatency:a.g.outputLatency||0}}
async function Cb(a,b){var c=b.originalUrl,d=b.url;const e=b.type,f=b.isMusic,g=b.tags,h=b.isLooping,l=b.vol,m=b.pos,r=b.panning,B=b.stereoPan;let C=b.off;0<C&&!b.trueClock&&(a.g.getOutputTimestamp?(b=a.g.getOutputTimestamp(),C=C-b.performanceTime/1E3+b.contextTime):C=C-performance.now()/1E3+a.g.currentTime);a.Ee=g.slice(0);Db(a,g);try{a.ca=await Eb(a,c,d,e,g,f);if(r){Fb(a.ca,!0);var G=a.ca,S=r.innerAngle,Ya=r.outerAngle,Za=r.outerGain;if(G.ac){Gb(G,r.x,r.y,r.z,r.angle);var V=self.Nb.Bf;G.Na[0]!==
V(S)&&(G.Na[0]=V(S),G.M.coneInnerAngle=V(S));G.Na[1]!==V(Ya)&&(G.Na[1]=V(Ya),G.M.coneOuterAngle=V(Ya));G.Na[2]!==Za&&(G.Na[2]=Za,G.M.coneOuterGain=Za)}r.hasOwnProperty("uid")&&(a.ca.La=r.uid)}else"number"===typeof B&&0!==B?(u(a.ca,!0),Hb(a.ca,B)):(Fb(a.ca,!1),u(a.ca,!1));a.ca.Play(h,l,m,C)}catch(Yc){console.error("[Construct] Audio: error starting playback: ",Yc);return}finally{c=g.join(" ");d=a.jc.get(c);if(!d)throw Error("expected pending tag");d.Ud--;0===d.Ud&&(d.resolve(),a.jc.delete(c))}da(a)}
async function Ib(a,b){var c=b.tags;const d=b.vol,e=b.duration;b=b.stopOnEnd;await Jb(a,c);for(const h of v(a,c))if(!h.Ua){c=h.N.gain;c.cancelScheduledValues(0);var f=h.B.g.currentTime,g=f+e;c.setValueAtTime(c.value,f);c.linearRampToValueAtTime(d,g);h.qb=d;h.Bb=g;h.Ne=b}Kb(a)}async function Lb(a,b){const c=b.tags;b=b.rate;await Jb(a,c);for(const d of v(a,c))d.Ca!==b&&(d.Ca=b,d.jb())}async function Mb(a,b){const c=b.tags;b=b.pos;await Jb(a,c);for(const d of v(a,c))d.bd(b)}
async function Ob(a,b){const c=b.originalUrl,d=b.url,e=b.type;b=b.isMusic;try{await Eb(a,c,d,e,"",b)}catch(f){console.error("[Construct] Audio: error preloading: ",f)}}async function Pb(a,b){if(b=await Bb(a,"",b.url,b.type,b.isMusic,!0))b.j(),b=a.za.indexOf(b),-1!==b&&a.za.splice(b,1)}
async function Qb(a,b){const c=b.type;var d=b.hasOwnProperty("tags")?b.tags:[b.tag];const e=b.params;let f;if("convolution"===c)try{f=await Bb(a,b.bufferOriginalUrl,b.bufferUrl,b.bufferType,!1)}catch(l){console.log("[Construct] Audio: error loading convolution: ",l);return}for(const l of d){if("filter"===c)d=new self.Ye(a,...e);else if("delay"===c)d=new self.We(a,...e);else if("convolution"===c){var g=d=new self.Ve(a,f.ya,...e),h=b.bufferType;g.qe=b.bufferOriginalUrl;g.re=h}else if("flanger"===c)d=
new self.Ze(a,...e);else if("phaser"===c)d=new self.af(a,...e);else if("gain"===c)d=new self.$e(a,...e);else if("stereopan"===c)d=new self.cf(a,...e);else if("tremolo"===c)d=new self.df(a,...e);else if("ringmod"===c)d=new self.bf(a,...e);else if("distortion"===c)d=new self.Xe(a,...e);else if("compressor"===c)d=new self.Ue(a,...e);else if("analyser"===c)d=new self.Te(a,...e);else throw Error("invalid effect type");g=a;h=l;h=h.toLowerCase();let m=g.Aa.get(h);m||(m=[],g.Aa.set(h,m));d.Be=m.length;d.Od=
h;m.push(d);Rb(g,h)}Sb(a)}
async function Tb(a,b){const c=b.saveLoadMode;if(3!==c){var d=[];for(var e of a.P)e.cb()&&1===c||!e.cb()&&2===c?d.push(e):e.j();a.P=d}for(const f of a.Aa.values())for(const g of f)g.j();a.Aa.clear();a.Rc=b.timeScale;a.wd=b.gameTime;d=b.listenerPos;a.ma[0]=d[0];a.ma[1]=d[1];a.ma[2]=d[2];a.g.listener.setPosition(d[0],d[1],d[2]);d=b.listenerOrientation;if(Array.isArray(d)){for(e=0;6>e;++e)a.ra[e]=d[e];a.g.listener.setOrientation(...a.ra)}a.Va=b.isSilent;a.l.sc(a.Va);a.Gc=b.masterVolume;a.yb.gain.value=
a.Gc;d=[];for(const f of Object.values(b.effects))d.push(Promise.all(f.map(g=>Qb(a,g))));await Promise.all(d);await Promise.all(b.playing.map(f=>Ub(a,f,c)));Kb(a)}
async function Vb(a,b){try{const c=a.g.suspend(b.time);a.Ae?a.g.resume():(a.g.startRendering().then(d=>{const e=[];for(let f=0,g=d.numberOfChannels;f<g;++f){const h=d.getChannelData(f);e.push(h.buffer)}a.l.eb("runtime","offline-audio-render-completed",{duration:d.duration,length:d.length,numberOfChannels:d.numberOfChannels,sampleRate:d.sampleRate,channelData:e},null,e)}).catch(d=>Wb(d)),a.Ae=!0);await c}catch(c){Wb(c)}}
function Ab(a){a.Bc||(a.zd=!1,window.addEventListener("pointerup",a.Ya,!0),window.addEventListener("touchend",a.Ya,!0),window.addEventListener("click",a.Ya,!0),window.addEventListener("keydown",a.Ya,!0),a.Bc=!0)}
async function Bb(a,b,c,d,e,f){for(var g of a.za)if(g.Pb()===c)return await g.U(),g;if(f)return null;if(e&&(a.Lc||a.ze)){f=0;for(let h=0,l=a.za.length;h<l;++h)g=a.za[h],a.za[f]=g,g.cb()?g.j():++f;a.za.length=f}f="audio/webm; codecs=opus"===d&&!a.Oe;e&&f&&(a.ze=!0);c=!e||a.Lc||f?new self.mf(a,b,c,d,e,f):new self.gf(a,b,c,d,e);a.za.push(c);await c.U();a.Ge.has(b)||(k(a,"buffer-metadata",{originalUrl:b,duration:c.wa()}),a.Ge.add(b));return c}
function Xb(a,b){return a===b||a.normalize().toLowerCase()===b.normalize().toLowerCase()}function Yb(a,b){return(b=a.Aa.get(b.toLowerCase()))?b[0].Z():a.va()}function Rb(a,b){b=b.toLowerCase();let c=a.va();var d=a.Aa.get(b);if(d&&d.length){c=d[0].Z();for(let f=0,g=d.length;f<g;++f){var e=d[f];f+1===g?e.fa(a.va()):e.fa(d[f+1].Z())}}for(const f of Zb(a,b))d=c,e=f.ta||f.M||f.N,e.disconnect(),e.connect(d);a.ob&&a.Hd===b&&(a.ob.disconnect(),a.ob.connect(c))}
function*Zb(a,b){if(b)for(const c of a.P)Xb(0<c.Ea.length?c.Ea[0]:"",b)&&(yield c);else a.ca&&!a.ca.$()&&(yield a.ca)}function $b(a,b,c){return c?a.l.Zf(b).then(d=>{const e=a.g.createBuffer(1,d.length,48E3);e.getChannelData(0).set(d);return e}):new Promise((d,e)=>{a.g.decodeAudioData(b,d,e)})}function ac(a,b){let c=0;for(let d=0,e=a.P.length;d<e;++d){const f=a.P[d];a.P[c]=f;f.ba===b?f.j():++c}a.P.length=c}
function*v(a,b){if(0<b.length)for(const d of a.P){a:{a=d.Ea;var c=b;for(const e of c){c=!1;for(const f of a)if(Xb(f,e)){c=!0;break}if(!c){a=!1;break a}}a=!0}a&&(yield d)}else a.ca&&!a.ca.$()&&(yield a.ca)}async function Eb(a,b,c,d,e,f){for(const g of a.P)if(g.Pb()===c&&(g.Vc()||f))return g.Ea=e,g;b=await Bb(a,b,c,d,f);e="html5"===b.sd?new self.hf(b.B,b,e):new self.nf(b.B,b,e);a.P.push(e);return e}
function Db(a,b){b=b.join(" ");let c=a.jc.get(b);if(!c){let d=null;c={Ud:0,promise:new Promise(e=>d=e),resolve:d};a.jc.set(b,c)}c.Ud++}function Jb(a,b){return(a=a.jc.get((0===b.length?a.Ee:b).join(" ")))?a.promise:Promise.resolve()}function Kb(a){if(0<a.wb.size)da(a);else for(const b of a.P)if(!b.R&&!b.$()){da(a);break}}function bc(a,b,c,d){k(a,"trigger",{type:b,tags:c,aiid:d})}function Sb(a){a.Dd||(a.Dd=!0,Promise.resolve().then(()=>cc(a)))}
function cc(a){const b={};for(const [c,d]of a.Aa)b[c]=d.map(e=>e.Ob());k(a,"fxstate",{fxstate:b});a.Dd=!1}
async function Ub(a,b,c){if(3!==c){var d=b.bufferOriginalUrl,e=b.bufferUrl,f=b.bufferType,g=b.isMusic,h=b.tags,l=b.isLooping,m=b.volume,r=b.playbackTime;if(!g||1!==c)if(g||2!==c){c=null;try{c=await Eb(a,d,e,f,h,g)}catch(B){console.error("[Construct] Audio: error loading audio state: ",B);return}a=c;(d=b.pan)?(Fb(a,!0),e=a.M,f=d.pos,a.Gb[0]=f[0],a.Gb[1]=f[1],a.Gb[2]=f[2],f=d.orient,a.Fb[0]=f[0],a.Fb[1]=f[1],a.Fb[2]=f[2],e.setPosition(...a.Gb),e.setOrientation(...a.Fb),a.Na[0]=d.cia,a.Na[1]=d.coa,a.Na[2]=
d.cog,e.coneInnerAngle=d.cia,e.coneOuterAngle=d.coa,e.coneOuterGain=d.cog,a.La=d.uid):Fb(a,!1);a=c;d=b.stereoPan;"number"!==typeof d?u(a,!1):(u(a,!0),Hb(a,d));c.Play(l,m,r,0);b.isPlaying||c.Sb();c.ld(b)}}}function Wb(a){console.error("[Audio] Offline rendering error: ",a)}
self.Nb=class extends self.bb{constructor(a){super(a,"audio");this.yb=this.g=null;this.Bc=this.zd=!1;this.Ya=()=>{if(!this.zd){var b=this.g;"suspended"===b.state&&b.resume&&b.resume();var c=b.createBuffer(1,220,22050),d=b.createBufferSource();d.buffer=c;d.connect(b.destination);d.start(0);"running"===b.state&&this.Bc&&(this.zd=!0,window.removeEventListener("pointerup",this.Ya,!0),window.removeEventListener("touchend",this.Ya,!0),window.removeEventListener("click",this.Ya,!0),window.removeEventListener("keydown",
this.Ya,!0),this.Bc=!1)}};this.za=[];this.P=[];this.ca=null;this.Ee=[];this.Ge=new Set;this.Fe=-1;this.jc=new Map;this.Gc=1;this.Va=!1;this.Qd=0;this.Rc=1;this.wd=0;this.Ie="HRTF";this.se="inverse";this.Je=600;this.He=1E4;this.Le=1;this.ma=[0,0,0];this.ra=[0,0,-1,0,1,0];this.ze=this.Lc=!1;this.Oe=this.l.uf();this.Aa=new Map;this.wb=new Set;this.Ae=this.Dd=!1;this.Hd="";this.ob=null;self.C3Audio_OnMicrophoneStream=(b,c)=>{this.ob&&this.ob.disconnect();this.Hd=c.toLowerCase();this.ob=this.g.createMediaStreamSource(b);
this.ob.connect(Yb(this,this.Hd))};this.zc=null;self.C3Audio_GetOutputStream=()=>{this.zc||(this.zc=this.g.createMediaStreamDestination(),this.yb.connect(this.zc));return this.zc.stream};self.C3Audio_DOMInterface=this;ca(this,[["create-audio-context",b=>zb(this,b)],["play",b=>Cb(this,b)],["stop",b=>{b=b.tags;for(const c of v(this,b))c.gb()}],["stop-all",()=>{for(const b of this.P)b.gb()}],["set-paused",b=>{const c=b.tags;b=b.paused;for(const d of v(this,c))b?d.Sb():d.rc();Kb(this)}],["set-volume",
b=>{const c=b.tags;b=b.vol;for(const d of v(this,c))w(d,b)}],["fade-volume",b=>Ib(this,b)],["set-master-volume",b=>{this.Gc=b.vol;this.yb.gain.value=this.Gc}],["set-muted",b=>{const c=b.tags;b=b.isMuted;for(const d of v(this,c))dc(d,b)}],["set-silent",b=>{this.Va=b.isSilent;this.l.sc(this.Va);for(const c of this.P)c.xc()}],["set-looping",b=>{const c=b.tags;b=b.isLooping;for(const d of v(this,c))d.cd(b)}],["set-playback-rate",b=>Lb(this,b)],["set-stereo-pan",b=>{const c=b.tags;b=b.p;for(const d of v(this,
c))u(d,!0),Hb(d,b)}],["seek",b=>Mb(this,b)],["preload",b=>Ob(this,b)],["unload",b=>Pb(this,b)],["unload-all",()=>{for(const b of this.za)b.j();this.za.length=0}],["set-suspended",b=>{b=b.isSuspended;!b&&this.g.resume&&this.g.resume();for(const c of this.P)c.dd(b);b&&this.g.suspend&&this.g.suspend()}],["add-effect",b=>Qb(this,b)],["set-effect-param",b=>{var c=b.tags;const d=b.index,e=b.param,f=b.value,g=b.ramp;b=b.time;for(const h of c)c=this.Aa.get(h.toLowerCase()),!c||0>d||d>=c.length||c[d].la(e,
f,g,b);Sb(this)}],["remove-effects",b=>{b=b.tags;for(const c of b){b=c.toLowerCase();const d=this.Aa.get(b);if(!d||!d.length)break;for(const e of d)e.j();this.Aa.delete(b);Rb(this,b)}}],["tick",b=>{this.Rc=b.timeScale;this.wd=b.gameTime;this.Fe=b.tickCount;if(0!==this.Qd)for(var c of this.P)c.jb();!(c=b.listenerPos)||this.ma[0]===c[0]&&this.ma[1]===c[1]&&this.ma[2]===c[2]||(this.ma[0]=c[0],this.ma[1]=c[1],this.ma[2]=c[2],this.g.listener.setPosition(c[0],c[1],c[2]));if((c=b.listenerOrientation)&&(this.ra[0]!==
c[0]||this.ra[1]!==c[1]||this.ra[2]!==c[2]||this.ra[3]!==c[3]||this.ra[4]!==c[4]||this.ra[5]!==c[5])){for(let d=0;6>d;++d)this.ra[d]=c[d];this.g.listener.setOrientation(...this.ra)}for(const d of b.instPans){b=d.uid;for(const e of this.P)e.La===b&&Gb(e,d.x,d.y,d.z,d.angle)}}],["load-state",b=>Tb(this,b)],["offline-render-audio",b=>Vb(this,b)],["offline-render-finish",()=>{this.g.resume()}]])}ga(){return this.g}va(){return this.yb}GetAudioContextExtern(){return this.ga()}GetDestinationNodeExtern(){return this.va()}qc(){return this.Va}hb(a){this.l.hb(a)}tb(a){this.l.tb(a)}ub(){for(var a of this.wb)a.ub();
a=this.g.currentTime;for(var b of this.P)b.ub(a);b=this.P.filter(c=>!c.R&&!c.$()).map(c=>c.Ob());k(this,"state",{tickCount:this.Fe,outputLatency:this.g.outputLatency||0,audioInstances:b,analysers:[...this.wb].map(c=>({tag:c.Od,index:c.Be,peak:c.Hb,rms:c.Ke,binCount:c.m.frequencyBinCount,freqBins:c.xe}))});0===b.length&&0===this.wb.size&&this.Cc&&(this.l.me(this.Pe),this.Cc=!1)}static Bf(a){return a*yb}static ae(a){return Math.max(Math.min(Math.pow(10,a/20),1),0)}static xf(a){return Math.log(Math.max(Math.min(a,
1),0))/Math.log(10)*20}};self.Ia.rb(self.Nb);"use strict";self.Xd=class{constructor(a,b,c,d,e){this.B=a;this.fg=b;this.pb=c;this.ea=d;this.bg=e;this.sd="";this.o=null}j(){this.o=this.B=null}kd(){}U(){this.o||(this.o=this.kd());return this.o}ga(){return this.B.ga()}Zc(){return this.fg}Pb(){return this.pb}Xc(){return this.ea}cb(){return this.bg}wa(){}};"use strict";
self.gf=class extends self.Xd{constructor(a,b,c,d,e){super(a,b,c,d,e);this.sd="html5";this.X=new Audio;this.X.crossOrigin="anonymous";this.X.autoplay=!1;this.X.preload="auto";this.dc=this.ec=null;this.X.addEventListener("canplaythrough",()=>!0);this.ic=this.ga().createGain();this.hc=null;this.X.addEventListener("canplay",()=>{this.ec&&(this.ec(),this.dc=this.ec=null);!this.hc&&this.X&&(this.hc=this.ga().createMediaElementSource(this.X),this.hc.connect(this.ic))});this.onended=null;this.X.addEventListener("ended",
()=>{if(this.onended)this.onended()});this.X.addEventListener("error",f=>{console.error(`[Construct] Audio '${this.pb}' error: `,f);this.dc&&(this.dc(f),this.dc=this.ec=null)})}j(){ac(this.B,this);this.ic.disconnect();this.ic=null;this.hc.disconnect();this.hc=null;this.X&&!this.X.paused&&this.X.pause();this.X=this.onended=null;super.j()}kd(){return new Promise((a,b)=>{this.ec=a;this.dc=b;this.X.src=this.pb})}ha(){return this.X}wa(){return this.X.duration}};"use strict";
async function ec(a){if(a.mb)return a.mb;var b=a.B.l;if("cordova"===b.A&&b.de(a.pb)&&b.Dc)a.mb=await b.oc(a.pb);else{b=await fetch(a.pb);if(!b.ok)throw Error(`error fetching audio data: ${b.status} ${b.statusText}`);a.mb=await b.arrayBuffer()}}async function fc(a){if(a.ya)return a.ya;a.ya=await $b(a.B,a.mb,a.eg);a.mb=null}
self.mf=class extends self.Xd{constructor(a,b,c,d,e,f){super(a,b,c,d,e);this.sd="webaudio";this.ya=this.mb=null;this.eg=!!f}j(){ac(this.B,this);this.ya=this.mb=null;super.j()}async kd(){try{await ec(this),await fc(this)}catch(a){console.error(`[Construct] Failed to load audio '${this.pb}': `,a)}}wa(){return this.ya?this.ya.duration:0}};"use strict";let gc=0;
function Fb(a,b){b=!!b;a.ac!==b&&(a.ac=b,a.ac?(u(a,!1),a.M||(a.M=a.ga().createPanner(),a.M.panningModel=a.B.Ie,a.M.distanceModel=a.B.se,a.M.refDistance=a.B.Je,a.M.maxDistance=a.B.He,a.M.rolloffFactor=a.B.Le),a.N.disconnect(),a.N.connect(a.M),a.M.connect(a.va())):(a.M.disconnect(),a.N.disconnect(),a.N.connect(a.va())))}
function u(a,b){b=!!b;a.Ec!==b&&(a.Ec=b,a.Ec?(Fb(a,!1),a.ta=a.ga().createStereoPanner(),a.N.disconnect(),a.N.connect(a.ta),a.ta.connect(a.va())):(a.ta.disconnect(),a.ta=null,a.N.disconnect(),a.N.connect(a.va())))}function Hb(a,b){a.Ec&&a.Nd!==b&&(a.ta.pan.value=b,a.Nd=b)}function w(a,b){a.qb=b;a.N.gain.cancelScheduledValues(0);a.Bb=-1;a.N.gain.value=a.$c()}function dc(a,b){b=!!b;a.Ua!==b&&(a.Ua=b,a.xc())}
function Gb(a,b,c,d,e){if(a.ac){var f=a.Gb,g=a.Fb,h=Math.cos(e);e=Math.sin(e);if(f[0]!==b||f[1]!==c||f[2]!==d)f[0]=b,f[1]=c,f[2]=d,a.M.setPosition(...f);if(g[0]!==h||g[1]!==e||0!==g[2])g[0]=h,g[1]=e,g[2]=0,a.M.setOrientation(...g)}}function hc(a){return a.Ed?a.B.wd:performance.now()/1E3}
self.Yd=class{constructor(a,b,c){this.B=a;this.ba=b;this.Ea=c;this.yc=gc++;this.N=this.ga().createGain();this.N.connect(this.va());this.M=null;this.ac=!1;this.Gb=[0,0,0];this.Fb=[0,0,0];this.Na=[0,0,0];this.ta=null;this.Ec=!1;this.Nd=0;this.R=!0;this.ka=this.Oa=this.V=!1;this.qb=1;this.Ua=!1;this.Ca=1;a=this.B.Qd;this.Ed=1===a&&!this.cb()||2===a;this.Bb=this.La=-1;this.Ne=!1}j(){this.ba=this.B=null;this.M&&(this.M.disconnect(),this.M=null);this.ta&&(this.ta.disconnect(),this.ta=null);this.N.disconnect();
this.N=null}ga(){return this.B.ga()}va(){return Yb(this.B,0<this.Ea.length?this.Ea[0]:"")}Zc(){return this.ba.Zc()}Pb(){return this.ba.Pb()}Xc(){return this.ba.Xc()}cb(){return this.ba.cb()}$(){}Vc(){}IsPlaying(){return!this.R&&!this.V&&!this.$()}sb(){}wa(){return this.ba.wa()}Play(){}gb(){}Sb(){}rc(){}ub(a){-1!==this.Bb&&a>=this.Bb&&(this.Bb=-1,this.Ne&&this.gb(),bc(this.B,"fade-ended",this.Ea,this.yc))}$c(){const a=this.qb;return isFinite(a)?a:0}qc(){return this.B.qc()}xc(){}cd(){}jb(){}bd(){}dd(){}ad(){}Ob(){var a=
this.yc,b=this.Ea,c=this.wa(),d=-1===this.Bb?this.qb:this.N.gain.value,e=this.IsPlaying();if(this.M){var f=this.M;f={pos:this.Gb,orient:this.Fb,cia:f.coneInnerAngle,coa:f.coneOuterAngle,cog:f.coneOuterGain,uid:this.La}}else f=null;return{aiid:a,tags:b,duration:c,volume:d,isPlaying:e,playbackTime:this.sb(),playbackRate:this.Ca,uid:this.La,bufferOriginalUrl:this.Zc(),bufferUrl:"",bufferType:this.Xc(),isMusic:this.cb(),isLooping:this.ka,isMuted:this.Ua,resumePosition:this.ad(),pan:f,stereoPan:this.ta?
this.Nd:null}}ld(a){var b=a.playbackRate;this.Ca!==b&&(this.Ca=b,this.jb());dc(this,a.isMuted)}};"use strict";
self.hf=class extends self.Yd{constructor(a,b,c){super(a,b,c);this.ba.ic.connect(this.N);this.ba.onended=()=>this.nd()}j(){this.gb();this.ba.ic.disconnect();super.j()}ha(){return this.ba.ha()}nd(){this.R=!0;this.La=-1;bc(this.B,"ended",this.Ea,this.yc)}$(){return this.ha().ended}Vc(){return this.R?!0:this.$()}sb(){let a=this.ha().currentTime;this.ka||(a=Math.min(a,this.wa()));return a}Play(a,b,c){const d=this.ha();1!==d.playbackRate&&(d.playbackRate=1);d.loop!==a&&(d.loop=a);w(this,b);this.Ua=!1;
d.muted&&(d.muted=!1);if(d.currentTime!==c)try{d.currentTime=c}catch(e){console.warn(`[Construct] Exception seeking audio '${this.ba.Pb()}' to position '${c}': `,e)}this.B.hb(d);this.V=this.R=!1;this.ka=a;this.Ca=1}gb(){const a=this.ha();a.paused||a.pause();this.B.tb(a);this.R=!0;this.V=!1;this.La=-1}Sb(){if(!(this.V||this.R||this.$())){var a=this.ha();a.paused||a.pause();this.B.tb(a);this.V=!0}}rc(){!this.V||this.R||this.$()||(this.B.hb(this.ha()),this.V=!1)}xc(){this.ha().muted=this.Ua||this.qc()}cd(a){a=
!!a;this.ka!==a&&(this.ka=a,this.ha().loop=a)}jb(){let a=this.Ca;this.Ed&&(a*=this.B.Rc);try{this.ha().playbackRate=a}catch(b){console.warn(`[Construct] Unable to set playback rate '${a}':`,b)}}bd(a){if(!this.R&&!this.$())try{this.ha().currentTime=a}catch(b){console.warn(`[Construct] Error seeking audio to '${a}': `,b)}}ad(){return this.sb()}dd(a){a?this.IsPlaying()?(this.ha().pause(),this.Oa=!0):this.Oa=!1:this.Oa&&(this.B.hb(this.ha()),this.Oa=!1)}};"use strict";
function ic(a){a.u&&(a.u.onended=null,a.u.disconnect(),a.u.buffer=null);a.u=null;a.Tb=null}
self.nf=class extends self.Yd{constructor(a,b,c){super(a,b,c);this.u=null;this.Ic=d=>this.nd(d);this.yd=!0;this.Tb=null;this.da=this.Kc=this.Mc=0;this.Jd=1}j(){this.gb();ic(this);this.Ic=null;super.j()}nd(a){this.V||this.Oa||a.target!==this.Tb||(this.R=this.yd=!0,this.La=-1,ic(this),bc(this.B,"ended",this.Ea,this.yc))}$(){return!this.R&&this.u&&this.u.loop||this.V?!1:this.yd}Vc(){return!this.u||this.R?!0:this.$()}sb(){let a;a=this.V?this.da:this.Kc+(hc(this)-this.Mc)*this.Ca;this.ka||(a=Math.min(a,
this.wa()));return a}Play(a,b,c,d){this.Ua=!1;this.Jd=1;w(this,b);ic(this);this.u=this.ga().createBufferSource();this.u.buffer=this.ba.ya;this.u.connect(this.N);this.Tb=this.u;this.u.onended=this.Ic;this.u.loop=a;this.u.start(d,c);this.V=this.R=this.yd=!1;this.ka=a;this.Ca=1;this.Mc=hc(this);this.Kc=c}gb(){if(this.u)try{this.u.stop(0)}catch(a){}this.R=!0;this.V=!1;this.La=-1}Sb(){this.V||this.R||this.$()||(this.da=this.sb(),this.ka&&(this.da%=this.wa()),this.V=!0,this.u.stop(0))}rc(){!this.V||this.R||
this.$()||(ic(this),this.u=this.ga().createBufferSource(),this.u.buffer=this.ba.ya,this.u.connect(this.N),this.Tb=this.u,this.u.onended=this.Ic,this.u.loop=this.ka,w(this,this.qb),this.jb(),this.u.start(0,this.da),this.Mc=hc(this),this.Kc=this.da,this.V=!1)}$c(){return super.$c()*this.Jd}xc(){this.Jd=this.Ua||this.qc()?0:1;w(this,this.qb)}cd(a){a=!!a;this.ka!==a&&(this.ka=a,this.u&&(this.u.loop=a))}jb(){let a=this.Ca;this.Ed&&(a*=this.B.Rc);this.u&&(this.u.playbackRate.value=a)}bd(a){this.R||this.$()||
(this.V?this.da=a:(this.Sb(),this.da=a,this.rc()))}ad(){return this.da}dd(a){a?this.IsPlaying()?(this.Oa=!0,this.da=this.sb(),this.ka&&(this.da%=this.wa()),this.u.stop(0)):this.Oa=!1:this.Oa&&(ic(this),this.u=this.ga().createBufferSource(),this.u.buffer=this.ba.ya,this.u.connect(this.N),this.Tb=this.u,this.u.onended=this.Ic,this.u.loop=this.ka,w(this,this.qb),this.jb(),this.u.start(0,this.da),this.Mc=hc(this),this.Kc=this.da,this.Oa=!1)}ld(a){super.ld(a);this.da=a.resumePosition}};"use strict";
function x(a){return a.g.createGain()}function y(a,b,c,d,e){b.cancelScheduledValues(0);if(0===e)b.value=c;else switch(a=a.g.currentTime,e+=a,d){case 0:b.setValueAtTime(c,e);break;case 1:b.setValueAtTime(b.value,a);b.linearRampToValueAtTime(c,e);break;case 2:b.setValueAtTime(b.value,a),b.exponentialRampToValueAtTime(c,e)}}class z{constructor(a){this.B=a;this.g=a.ga();this.Be=-1;this.ea=this.Od="";this.s=null}j(){this.g=null}Z(){}fa(){}Ob(){return{type:this.ea,tag:this.Od,params:this.s}}}
self.Ye=class extends z{constructor(a,b,c,d,e,f,g){super(a);this.ea="filter";this.s=[b,c,d,e,f,g];this.C=x(this);this.i=x(this);this.i.gain.value=g;this.h=x(this);this.h.gain.value=1-g;this.L=this.g.createBiquadFilter();this.L.type=b;this.L.frequency.value=c;this.L.detune.value=d;this.L.Q.value=e;this.L.gain.vlaue=f;this.C.connect(this.L);this.C.connect(this.h);this.L.connect(this.i)}j(){this.C.disconnect();this.L.disconnect();this.i.disconnect();this.h.disconnect();super.j()}fa(a){this.i.disconnect();
this.i.connect(a);this.h.disconnect();this.h.connect(a)}Z(){return this.C}la(a,b,c,d){switch(a){case 0:b=Math.max(Math.min(b/100,1),0);this.s[5]=b;y(this,this.i.gain,b,c,d);y(this,this.h.gain,1-b,c,d);break;case 1:this.s[1]=b;y(this,this.L.frequency,b,c,d);break;case 2:this.s[2]=b;y(this,this.L.detune,b,c,d);break;case 3:this.s[3]=b;y(this,this.L.Q,b,c,d);break;case 4:this.s[4]=b,y(this,this.L.gain,b,c,d)}}};
self.We=class extends z{constructor(a,b,c,d){super(a);this.ea="delay";this.s=[b,c,d];this.C=x(this);this.i=x(this);this.i.gain.value=d;this.h=x(this);this.h.gain.value=1-d;this.fc=x(this);this.ja=this.g.createDelay(b);this.ja.delayTime.value=b;this.Zb=x(this);this.Zb.gain.value=c;this.C.connect(this.fc);this.C.connect(this.h);this.fc.connect(this.i);this.fc.connect(this.ja);this.ja.connect(this.Zb);this.Zb.connect(this.fc)}j(){this.C.disconnect();this.i.disconnect();this.h.disconnect();this.fc.disconnect();
this.ja.disconnect();this.Zb.disconnect();super.j()}fa(a){this.i.disconnect();this.i.connect(a);this.h.disconnect();this.h.connect(a)}Z(){return this.C}la(a,b,c,d){const e=self.Nb.ae;switch(a){case 0:b=Math.max(Math.min(b/100,1),0);this.s[2]=b;y(this,this.i.gain,b,c,d);y(this,this.h.gain,1-b,c,d);break;case 4:this.s[1]=e(b);y(this,this.Zb.gain,e(b),c,d);break;case 5:this.s[0]=b,y(this,this.ja.delayTime,b,c,d)}}};
self.Ve=class extends z{constructor(a,b,c,d){super(a);this.ea="convolution";this.s=[c,d];this.re=this.qe="";this.C=x(this);this.i=x(this);this.i.gain.value=d;this.h=x(this);this.h.gain.value=1-d;this.Yb=this.g.createConvolver();this.Yb.normalize=c;this.Yb.buffer=b;this.C.connect(this.Yb);this.C.connect(this.h);this.Yb.connect(this.i)}j(){this.C.disconnect();this.Yb.disconnect();this.i.disconnect();this.h.disconnect();super.j()}fa(a){this.i.disconnect();this.i.connect(a);this.h.disconnect();this.h.connect(a)}Z(){return this.C}la(a,
b,c,d){switch(a){case 0:b=Math.max(Math.min(b/100,1),0),this.s[1]=b,y(this,this.i.gain,b,c,d),y(this,this.h.gain,1-b,c,d)}}Ob(){const a=super.Ob();a.bufferOriginalUrl=this.qe;a.bufferUrl="";a.bufferType=this.re;return a}};
self.Ze=class extends z{constructor(a,b,c,d,e,f){super(a);this.ea="flanger";this.s=[b,c,d,e,f];this.C=x(this);this.h=x(this);this.h.gain.value=1-f/2;this.i=x(this);this.i.gain.value=f/2;this.$b=x(this);this.$b.gain.value=e;this.ja=this.g.createDelay(b+c);this.ja.delayTime.value=b;this.J=this.g.createOscillator();this.J.frequency.value=d;this.W=x(this);this.W.gain.value=c;this.C.connect(this.ja);this.C.connect(this.h);this.ja.connect(this.i);this.ja.connect(this.$b);this.$b.connect(this.ja);this.J.connect(this.W);
this.W.connect(this.ja.delayTime);this.J.start(0)}j(){this.J.stop(0);this.C.disconnect();this.ja.disconnect();this.J.disconnect();this.W.disconnect();this.h.disconnect();this.i.disconnect();this.$b.disconnect();super.j()}fa(a){this.i.disconnect();this.i.connect(a);this.h.disconnect();this.h.connect(a)}Z(){return this.C}la(a,b,c,d){switch(a){case 0:b=Math.max(Math.min(b/100,1),0);this.s[4]=b;y(this,this.i.gain,b/2,c,d);y(this,this.h.gain,1-b/2,c,d);break;case 6:this.s[1]=b/1E3;y(this,this.W.gain,b/
1E3,c,d);break;case 7:this.s[2]=b;y(this,this.J.frequency,b,c,d);break;case 8:this.s[3]=b/100,y(this,this.$b.gain,b/100,c,d)}}};
self.af=class extends z{constructor(a,b,c,d,e,f,g){super(a);this.ea="phaser";this.s=[b,c,d,e,f,g];this.C=x(this);this.h=x(this);this.h.gain.value=1-g/2;this.i=x(this);this.i.gain.value=g/2;this.L=this.g.createBiquadFilter();this.L.type="allpass";this.L.frequency.value=b;this.L.detune.value=c;this.L.Q.value=d;this.J=this.g.createOscillator();this.J.frequency.value=f;this.W=x(this);this.W.gain.value=e;this.C.connect(this.L);this.C.connect(this.h);this.L.connect(this.i);this.J.connect(this.W);this.W.connect(this.L.frequency);
this.J.start(0)}j(){this.J.stop(0);this.C.disconnect();this.L.disconnect();this.J.disconnect();this.W.disconnect();this.h.disconnect();this.i.disconnect();super.j()}fa(a){this.i.disconnect();this.i.connect(a);this.h.disconnect();this.h.connect(a)}Z(){return this.C}la(a,b,c,d){switch(a){case 0:b=Math.max(Math.min(b/100,1),0);this.s[5]=b;y(this,this.i.gain,b/2,c,d);y(this,this.h.gain,1-b/2,c,d);break;case 1:this.s[0]=b;y(this,this.L.frequency,b,c,d);break;case 2:this.s[1]=b;y(this,this.L.detune,b,c,
d);break;case 3:this.s[2]=b;y(this,this.L.Q,b,c,d);break;case 6:this.s[3]=b;y(this,this.W.gain,b,c,d);break;case 7:this.s[4]=b,y(this,this.J.frequency,b,c,d)}}};self.$e=class extends z{constructor(a,b){super(a);this.ea="gain";this.s=[b];this.m=x(this);this.m.gain.value=b}j(){this.m.disconnect();super.j()}fa(a){this.m.disconnect();this.m.connect(a)}Z(){return this.m}la(a,b,c,d){const e=self.Nb.ae;switch(a){case 4:this.s[0]=e(b),y(this,this.m.gain,e(b),c,d)}}};
self.cf=class extends z{constructor(a,b){super(a);this.ea="stereopan";this.s=[b];this.m=this.g.createStereoPanner();this.m.pan.value=b}j(){this.m.disconnect();super.j()}fa(a){this.m.disconnect();this.m.connect(a)}Z(){return this.m}la(a,b,c,d){b=Math.min(Math.max(b/100,-1),1);switch(a){case 9:this.s[0]=b,y(this,this.m.pan,b,c,d)}}};
self.df=class extends z{constructor(a,b,c){super(a);this.ea="tremolo";this.s=[b,c];this.m=x(this);this.m.gain.value=1-c/2;this.J=this.g.createOscillator();this.J.frequency.value=b;this.W=x(this);this.W.gain.value=c/2;this.J.connect(this.W);this.W.connect(this.m.gain);this.J.start(0)}j(){this.J.stop(0);this.J.disconnect();this.W.disconnect();this.m.disconnect();super.j()}fa(a){this.m.disconnect();this.m.connect(a)}Z(){return this.m}la(a,b,c,d){switch(a){case 0:b=Math.max(Math.min(b/100,1),0);this.s[1]=
b;y(this,this.m.gain,1-b/2,c,d);y(this,this.W.gain,b/2,c,d);break;case 7:this.s[0]=b,y(this,this.J.frequency,b,c,d)}}};
self.bf=class extends z{constructor(a,b,c){super(a);this.ea="ringmod";this.s=[b,c];this.C=x(this);this.i=x(this);this.i.gain.value=c;this.h=x(this);this.h.gain.value=1-c;this.lc=x(this);this.lc.gain.value=0;this.J=this.g.createOscillator();this.J.frequency.value=b;this.J.connect(this.lc.gain);this.J.start(0);this.C.connect(this.lc);this.C.connect(this.h);this.lc.connect(this.i)}j(){this.J.stop(0);this.J.disconnect();this.lc.disconnect();this.C.disconnect();this.i.disconnect();this.h.disconnect();
super.j()}fa(a){this.i.disconnect();this.i.connect(a);this.h.disconnect();this.h.connect(a)}Z(){return this.C}la(a,b,c,d){switch(a){case 0:b=Math.max(Math.min(b/100,1),0);this.s[1]=b;y(this,this.i.gain,b,c,d);y(this,this.h.gain,1-b,c,d);break;case 7:this.s[0]=b,y(this,this.J.frequency,b,c,d)}}};
self.Xe=class extends z{constructor(a,b,c,d,e,f){super(a);this.ea="distortion";this.s=[b,c,d,e,f];this.C=x(this);this.Oc=x(this);this.Nc=x(this);a=d;.01>a&&(a=.01);this.Oc.gain.value=a;this.Nc.gain.value=Math.pow(1/a,.6)*e;this.i=x(this);this.i.gain.value=f;this.h=x(this);this.h.gain.value=1-f;this.Sc=this.g.createWaveShaper();this.td=new Float32Array(65536);for(e=0;32768>e;++e)f=e/32768,a=1.05*c*b-b,d=0>f?-f:f,d<b?a=d:(d=1-Math.exp(-(1/a)*(d-b)),a=b+a*d),f=a*(0>f?-1:1),this.td[32768+e]=f,this.td[32768-
e-1]=-f;this.Sc.curve=this.td;this.C.connect(this.Oc);this.C.connect(this.h);this.Oc.connect(this.Sc);this.Sc.connect(this.Nc);this.Nc.connect(this.i)}j(){this.C.disconnect();this.Oc.disconnect();this.Sc.disconnect();this.Nc.disconnect();this.i.disconnect();this.h.disconnect();super.j()}fa(a){this.i.disconnect();this.i.connect(a);this.h.disconnect();this.h.connect(a)}Z(){return this.C}la(a,b,c,d){switch(a){case 0:b=Math.max(Math.min(b/100,1),0),this.s[4]=b,y(this,this.i.gain,b,c,d),y(this,this.h.gain,
1-b,c,d)}}};self.Ue=class extends z{constructor(a,b,c,d,e,f){super(a);this.ea="compressor";this.s=[b,c,d,e,f];this.m=this.g.createDynamicsCompressor();this.m.threshold.value=b;this.m.knee.value=c;this.m.ratio.value=d;this.m.attack.value=e;this.m.release.value=f}j(){this.m.disconnect();super.j()}fa(a){this.m.disconnect();this.m.connect(a)}Z(){return this.m}la(){}};
self.Te=class extends z{constructor(a,b,c){super(a);this.ea="analyser";this.s=[b,c];this.m=this.g.createAnalyser();this.m.fftSize=b;this.m.smoothingTimeConstant=c;this.xe=new Float32Array(this.m.frequencyBinCount);this.Me=new Uint8Array(b);this.Ke=this.Hb=0;a=this.B;a.wb.add(this);Kb(a)}j(){this.B.wb.delete(this);this.m.disconnect();super.j()}ub(){this.m.getFloatFrequencyData(this.xe);this.m.getByteTimeDomainData(this.Me);const a=this.m.fftSize;let b=this.Hb=0;for(var c=0;c<a;++c){let d=(this.Me[c]-
128)/128;0>d&&(d=-d);this.Hb<d&&(this.Hb=d);b+=d*d}c=self.Nb.xf;this.Hb=c(this.Hb);this.Ke=c(Math.sqrt(b/a))}fa(a){this.m.disconnect();this.m.connect(a)}Z(){return this.m}la(){}};"use strict";const jc={};let A=null,kc=null;const lc={banner:"ca-app-pub-3940256099942544/2934735716",interstitial:"ca-app-pub-3940256099942544/4411468910",rewarded:"ca-app-pub-3940256099942544/1712485313",rewardedInterstitial:"ca-app-pub-3940256099942544/6978759866"};let mc=!1;
function nc(a,b){jc[a]=b;self.admob.configRequest(jc)}async function oc(){if("android"===self.cordova.platformId)return self.Wd(self.device.uuid).toUpperCase();if("ios"===self.cordova.platformId){const a=await self.cordova.plugins.idfa.getInfo();if(!a.trackingLimited)return mc=!0,self.Wd(a.idfa).toUpperCase()}}
self.$a={F:function(a,b){a(null,b)},v:function(a,b){a(b,null)},qa:async function(a,b){b="undefined"!==typeof b?b:A.debug;return kc?kc:kc=new Promise(c=>{document.addEventListener("deviceready",async()=>{try{const d=setTimeout(()=>{c(!1);a("failure to initialize",null)},5E3);await self.admob.start();clearTimeout(d);if(b){const e=await oc();nc("testDeviceIds",[e])}c(!0)}catch(d){c(!1),a("Initialization failure",null)}})})},ed:nc,yf:function(a,b,c,d,e,f,g){A||(A={id:a,qg:b,pg:c,tg:d,Gg:e,debug:f,kg:g},
Object.freeze(A))},rf:function(){return!!A},pc:function(a,b){if("android"===self.cordova.platformId)return a;if("ios"===self.cordova.platformId){const c=!!lc[b];return A.debug&&!mc&&c?(console.log("[C3 advert]","USING TEST AD UNITS"),lc[b]):a}},get ab(){return A},get Af(){return oc()}};"use strict";const pc=self.$a,D=pc.F,E=pc.v,F={get S(){return self.admob.Events.bannerLoad},get T(){return self.admob.Events.bannerLoadFail}};
async function qc(a){var b=H;if(!b.D)return E(a,"banner ad not created");if(b.H)return E(a,"banner ad still loading");if(!b.I)return D(a,"banner ad not being shown");await b.D.hide();b.I=!1;D(a,"banner ad hidden")}
class rc{constructor(a,b,c,d){if(!a)return E(d,"Unit ID not specified");if(!b)return E(d,"Ad size not specified");if(!c)return E(d,"Ad position not specified");this.lb=a;this.gg=c;this.Pa="";switch(b){case "portrait":this.Pa=5;break;case "landscape":this.Pa=5;break;case "standard":this.Pa=0;break;case "large":this.Pa=1;break;case "medium":this.Pa=2;break;case "full":this.Pa=3;break;case "leaderboard":this.Pa=4;break;default:this.Pa=5}this.D=null;this.I=this.H=!1;this.Cb=this.Gd=this.Pc=null}j(){this.Pc&&
this.Pc();this.D=this.Cb=this.Gd=this.Pc=null}U(a,b){if(this.D)return D(b,"banner ad loaded");sc.call(this,b);a={adUnitId:pc.pc(this.lb,"banner"),size:this.Pa,position:this.gg,offset:0,npa:"NON_PERSONALIZED"===a?"1":"0"};this.D=new self.admob.BannerAd(a);this.Gd=new Promise(c=>this.Cb=c);this.D.load()}async Ta(a){this.D?this.H?E(a,"banner ad still loading"):this.I?D(a,"banner ad already shown"):(await this.D.show(),this.I=!0,D(a,"banner shown")):E(a,"banner ad not created")}}
function sc(a){const b=()=>{this.H=!1;D(a,"banner ad loaded");document.removeEventListener(F.S,b);document.removeEventListener(F.T,c);this.Cb&&this.Cb()},c=()=>{this.D=null;this.H=!1;E(a,"banner ad failed to load");document.removeEventListener(F.S,b);document.removeEventListener(F.T,c);this.Cb&&this.Cb()};this.Pc=()=>{document.removeEventListener(F.S,b);document.removeEventListener(F.T,c);document.removeEventListener(F.S,b);document.removeEventListener(F.T,c)};document.addEventListener(F.S,b);document.addEventListener(F.T,
c)}self.ef=rc;"use strict";const tc=self.$a,uc=tc.F,vc=tc.v,I={get S(){return self.admob.Events.interstitialLoad},get T(){return self.admob.Events.interstitialLoadFail},get oa(){return self.admob.Events.interstitialShow},get pa(){return self.admob.Events.interstitialShowFail},get Ga(){return self.admob.Events.interstitialDismiss}};
class wc{constructor(a,b){if(!a)return vc(b,"Unit ID not specified");this.lb=a;this.D=null;this.O=this.I=this.H=!1;this.ia=null;this.o=this.K();document.addEventListener(I.Ga,async()=>{this.I=!1;this.H=!0;this.O=!1;this.o=null;this.o=this.K();xc.call(this);self.C3MobileAdvertsAPI.real.resumeRuntime();await this.D.load()})}K(){return this.o?this.o:this.o=new Promise(a=>{this.ia=a})}Sa(a){this.O=a;this.ia&&this.ia(a);this.ia=this.o=null;this.o=this.K()}U(a,b){a={adUnitId:tc.pc(this.lb,"interstitial"),
npa:"NON_PERSONALIZED"===a?"1":"0"};this.H=!0;this.O=this.I=!1;this.o=null;this.o=this.K();this.D=new self.admob.InterstitialAd(a);xc.call(this,b);this.D.load()}Ra(a,b){a?tc.F(b,"interstitial ad load"):tc.v(b,"interstitial ad failed to load")}async Ta(a){this.D?this.I?uc(a,"interstitial ad already shown"):(this.H&&await this.K(),await (async()=>{this.O?(yc.call(this,a),await this.D.show()):(xc.call(this),this.O=!1,this.o=null,this.D.load(),await this.K(),this.O?(yc.call(this,a),await this.D.show()):
vc(a,"interstitial ad failed to load"))})()):vc(a,"interstitial ad not created")}}function xc(a){const b=()=>{this.H=!1;this.Sa(!0);a&&uc(a,"interstitial ad load");document.removeEventListener(I.S,b);document.removeEventListener(I.T,c)},c=()=>{this.H=!1;this.Sa(!1);a&&vc(a,"interstitial ad failed to load");document.removeEventListener(I.S,b);document.removeEventListener(I.T,c)};document.addEventListener(I.S,b);document.addEventListener(I.T,c)}
function yc(a){const b=()=>{this.I=!0;self.C3MobileAdvertsAPI.real.suspendRuntime();a&&uc(a,"interstitial ad show");document.removeEventListener(I.oa,b);document.removeEventListener(I.pa,c)},c=()=>{this.I=!1;a&&vc(a,"interstitial ad failed to show");document.removeEventListener(I.oa,b);document.removeEventListener(I.pa,c)};document.addEventListener(I.oa,b);document.addEventListener(I.pa,c)}self.jf=wc;"use strict";
const zc=self.$a,Ac=zc.F,J=zc.v,K={get S(){return self.admob.Events.rewardedLoad},get T(){return self.admob.Events.rewardedLoadFail},get oa(){return self.admob.Events.rewardedShow},get pa(){return self.admob.Events.rewardedShowFail},get Ga(){return self.admob.Events.rewardedDismiss},get fb(){return self.admob.Events.rewardedReward}};
class Bc{constructor(a,b){if(!a)return J(b,"Unit ID not specified");this.lb=a;this.D=null;this.O=this.I=this.H=!1;this.ia=null;this.o=this.K();this.sa=null}K(){return this.o?this.o:this.o=new Promise(a=>{this.ia=a})}Sa(a){this.O=a;this.ia&&this.ia(a);this.ia=this.o=null;this.o=this.K()}U(a,b){a={adUnitId:zc.pc(this.lb,"rewarded"),npa:"NON_PERSONALIZED"===a?"1":"0"};this.H=!0;this.O=this.I=!1;this.o=null;this.o=this.K();this.D=new self.admob.RewardedAd(a);Cc.call(this,b);this.D.load()}Ra(a,b){a?zc.F(b,
"rewarded ad load"):zc.v(b,"rewarded ad failed to load")}async Ta(a){this.D?this.I?Ac(a,"rewarded ad already shown"):(this.H&&await this.K(),await (async()=>{this.O?(Dc.call(this,a),await this.D.show()):(Cc.call(this),this.O=!1,this.o=null,this.D.load(),await this.K(),this.O?(Dc.call(this,a),await this.D.show()):J(a,"rewarded ad failed to load"))})()):J(a,"rewarded ad not created")}}
function Cc(a){const b=()=>{this.H=!1;this.Sa(!0);a&&Ac(a,"rewarded ad load");document.removeEventListener(K.S,b);document.removeEventListener(K.T,c)},c=()=>{this.H=!1;this.Sa(!1);a&&J(a,"rewarded ad failed to load");document.removeEventListener(K.S,b);document.removeEventListener(K.T,c)};document.addEventListener(K.S,b);document.addEventListener(K.T,c)}
function Dc(a){const b=()=>{this.I=!0;self.C3MobileAdvertsAPI.real.suspendRuntime()},c=f=>{this.sa=f.reward},d=()=>{this.I=!1;a&&J(a,"rewarded ad failed to show");document.removeEventListener(K.oa,b);document.removeEventListener(K.pa,d);document.removeEventListener(K.fb,c);document.removeEventListener(K.Ga,e)},e=()=>{if(null!==this.sa){const f=String(this.sa.type),g=String(this.sa.amount);a&&Ac(a,JSON.stringify([f,g]))}else a&&J(a,"closed with no reward");this.sa=null;this.I=!1;this.H=!0;this.O=!1;
this.o=null;this.o=this.K();Cc.call(this);self.C3MobileAdvertsAPI.real.resumeRuntime();this.D.load();document.removeEventListener(K.oa,b);document.removeEventListener(K.pa,d);document.removeEventListener(K.fb,c);document.removeEventListener(K.Ga,e)};document.addEventListener(K.oa,b);document.addEventListener(K.pa,d);document.addEventListener(K.fb,c);document.addEventListener(K.Ga,e)}self.kf=Bc;"use strict";
const Ec=self.$a,Fc=Ec.F,Gc=Ec.v,L={get S(){return self.admob.Events.rewardedInterstitialLoad},get T(){return self.admob.Events.rewardedInterstitialLoadFail},get oa(){return self.admob.Events.rewardedInterstitialShow},get pa(){return self.admob.Events.rewardedInterstitialShowFail},get Ga(){return self.admob.Events.rewardedInterstitialDismiss},get fb(){return self.admob.Events.rewardedInterstitialReward}};
class Hc{constructor(a,b){if(!a)return Gc(b,"Unit ID not specified");this.lb=a;this.D=null;this.O=this.I=this.H=!1;this.ia=null;this.o=this.K();this.sa=null}K(){return this.o?this.o:this.o=new Promise(a=>{this.ia=a})}Sa(a){this.O=a;this.ia&&this.ia(a);this.ia=this.o=null;this.o=this.K()}U(a,b){a={adUnitId:Ec.pc(this.lb,"rewardedInterstitial"),npa:"NON_PERSONALIZED"===a?"1":"0"};this.H=!0;this.O=this.I=!1;this.o=null;this.o=this.K();this.D=new self.admob.RewardedInterstitialAd(a);Ic.call(this,b);this.D.load()}Ra(a,
b){a?Ec.F(b,"rewarded interstitial ad load"):Ec.v(b,"rewarded interstitial ad failed to load")}async Ta(a){this.D?this.I?Fc(a,"rewarded interstitial ad already shown"):(this.H&&await this.K(),await (async()=>{this.O?(Jc.call(this,a),await this.D.show()):(Ic.call(this),this.O=!1,this.o=null,this.D.load(),await this.K(),this.O?(Jc.call(this,a),await this.D.show()):Gc(a,"rewarded interstitial ad failed to load"))})()):Gc(a,"rewarded interstitial ad not created")}}
function Ic(a){const b=()=>{this.H=!1;this.Sa(!0);a&&Fc(a,"rewarded interstitial ad load");document.removeEventListener(L.S,b);document.removeEventListener(L.T,c)},c=()=>{this.H=!1;this.Sa(!1);a&&Gc(a,"rewarded interstitial ad failed to load");document.removeEventListener(L.S,b);document.removeEventListener(L.T,c)};document.addEventListener(L.S,b);document.addEventListener(L.T,c)}
function Jc(a){const b=()=>{this.I=!0;self.C3MobileAdvertsAPI.real.suspendRuntime()},c=f=>{this.sa=f.reward},d=()=>{this.I=!1;a&&Gc(a,"rewarded interstitial ad failed to show");document.removeEventListener(L.oa,b);document.removeEventListener(L.pa,d);document.removeEventListener(L.fb,c);document.removeEventListener(L.Ga,e)},e=()=>{if(null!==this.sa){const f=String(this.sa.type),g=String(this.sa.amount);a&&Fc(a,JSON.stringify([f,g]))}else a&&Gc(a,"closed with no reward");this.sa=null;this.I=!1;this.H=
!0;this.O=!1;this.o=null;this.o=this.K();Ic.call(this);self.C3MobileAdvertsAPI.real.resumeRuntime();this.D.load();document.removeEventListener(L.oa,b);document.removeEventListener(L.pa,d);document.removeEventListener(L.fb,c);document.removeEventListener(L.Ga,e)};document.addEventListener(L.oa,b);document.addEventListener(L.pa,d);document.addEventListener(L.fb,c);document.addEventListener(L.Ga,e)}self.lf=Hc;"use strict";
const Kc=self.$a,Lc=Kc.F,Mc=Kc.v,Nc=self.cordova?"ios"===self.cordova.platformId:!1,Oc=self.cordova?"android"===self.cordova.platformId:!1;async function Pc(){Nc&&await self.admob.requestTrackingAuthorization()}
async function Qc(a){if(Oc)return a.Fa="not-determined";const b=self.cordova.plugins.idfa,c=await b.getInfo();if(!c.trackingLimited)return a.Fa="authorized";switch(c.trackingPermission){case b.TRACKING_PERMISSION_NOT_DETERMINED:return a.Fa="not-determined";case b.TRACKING_PERMISSION_RESTRICTED:return a.Fa="denied";case b.TRACKING_PERMISSION_DENIED:return a.Fa="denied";case b.TRACKING_PERMISSION_AUTHORIZED:return a.Fa="authorized"}}async function Rc(a){await Sc(a,"always",!0)}
async function Tc(a){var b=M;Oc?Lc(a,"not-determined"):Nc&&(await Uc.call(b),"true"===b.Ka?await Pc():(await Qc(b),"not-determined"===b.Fa&&(await Vc.call(b),b.xd?await Rc(b):await Pc())),await Qc(b),Lc(a,b.Fa))}async function Wc(a,b,c){return await Xc.call(M,a,b,d=>{d?"object"===typeof d?Mc(c,d.message):Mc(c,d):Mc(c,"requestInfoUpdate error")})}async function Zc(a,b){await Xc.call(M,a,b)}
async function Sc(a,b,c=!1){await $c.call(a);switch(b){case "eu":c=await Vc.call(a);ad.call(a)&&c&&await (await self.consent.loadForm()).show();break;case "always":b=await Vc.call(a);const d=await Uc.call(a);b&&"true"===d?await (await self.consent.loadForm()).show():b&&c&&await (await self.consent.loadForm()).show()}await $c.call(a);await Uc.call(a);await bd.call(a)}async function cd(a){await $c.call(a);await Uc.call(a);await bd.call(a)}
async function dd(a){var b=M;await Qc(b);Lc(a,`${b.xb}&&${b.Fa}&&${b.Ka}`)}async function ed(a,b){Mc(a,b)}async function fd(a){var b=M;await cd(b);await Qc(b);Lc(a,`${b.xb}&&${b.Fa}&&${b.Ka}`)}class gd{constructor(){this.aa="UNKNOWN";this.Ka="";this.Xb=0;this.xb="UNKNOWN";this.Fa="not-determined";this.xd=!1}async ge(){Kc.ab.debug&&await self.consent.reset()}}async function Vc(){return this.xd=await self.consent.getFormStatus()===self.consent.FormStatus.Available}
async function $c(){this.Xb=await self.consent.getConsentStatus();switch(this.Xb){case 1:return this.xb="REQUIRED";case 2:return this.xb="NOT_REQUIRED";case 3:return this.xb="OBTAINED";case 0:return this.xb="UNKNOWN"}}function ad(){switch(this.Xb){case 1:return!0;case 2:return!1;case 3:return!1;case 0:return!0}}function bd(){switch(this.Xb){case 1:return this.aa="NON_PERSONALIZED";case 2:return this.aa="PERSONALIZED";case 3:return this.aa="PERSONALIZED";case 0:return this.aa="NON_PERSONALIZED"}}
async function Uc(){if(Oc)switch(this.Xb){case 1:return this.Ka="true";case 2:return this.Ka="false";case 3:return this.Ka="true";case 0:return this.Ka="true"}if(Nc)return await hd.call(this)?this.Ka="true":this.Ka="false"}async function hd(){return new Promise(a=>{self.NativeStorage.getInt("IABTCF_gdprApplies",b=>a(b),()=>a(1))})}
async function Xc(a,b,c){let d="",e=null;if(a){switch(b){case "EEA":d=self.consent.DebugGeography.EEA;break;case "NOT_EEA":d=self.consent.DebugGeography.NotEEA;break;default:d=self.consent.DebugGeography.Disabled}e=[await Kc.Af]}try{return a?await self.consent.requestInfoUpdate({Dg:d,Hg:e}):await self.consent.requestInfoUpdate(),!0}catch(f){return c&&c(f),!1}}self.ff=new gd;"use strict";
const id=(a,b)=>{let c=a[0],d=a[1],e=a[2],f=a[3];c=N(d&e|~d&f,c,d,b[0],7,-680876936);f=N(c&d|~c&e,f,c,b[1],12,-389564586);e=N(f&c|~f&d,e,f,b[2],17,606105819);d=N(e&f|~e&c,d,e,b[3],22,-1044525330);c=N(d&e|~d&f,c,d,b[4],7,-176418897);f=N(c&d|~c&e,f,c,b[5],12,1200080426);e=N(f&c|~f&d,e,f,b[6],17,-1473231341);d=N(e&f|~e&c,d,e,b[7],22,-45705983);c=N(d&e|~d&f,c,d,b[8],7,1770035416);f=N(c&d|~c&e,f,c,b[9],12,-1958414417);e=N(f&c|~f&d,e,f,b[10],17,-42063);d=N(e&f|~e&c,d,e,b[11],22,-1990404162);c=N(d&e|~d&
f,c,d,b[12],7,1804603682);f=N(c&d|~c&e,f,c,b[13],12,-40341101);e=N(f&c|~f&d,e,f,b[14],17,-1502002290);d=N(e&f|~e&c,d,e,b[15],22,1236535329);c=N(d&f|e&~f,c,d,b[1],5,-165796510);f=N(c&e|d&~e,f,c,b[6],9,-1069501632);e=N(f&d|c&~d,e,f,b[11],14,643717713);d=N(e&c|f&~c,d,e,b[0],20,-373897302);c=N(d&f|e&~f,c,d,b[5],5,-701558691);f=N(c&e|d&~e,f,c,b[10],9,38016083);e=N(f&d|c&~d,e,f,b[15],14,-660478335);d=N(e&c|f&~c,d,e,b[4],20,-405537848);c=N(d&f|e&~f,c,d,b[9],5,568446438);f=N(c&e|d&~e,f,c,b[14],9,-1019803690);
e=N(f&d|c&~d,e,f,b[3],14,-187363961);d=N(e&c|f&~c,d,e,b[8],20,1163531501);c=N(d&f|e&~f,c,d,b[13],5,-1444681467);f=N(c&e|d&~e,f,c,b[2],9,-51403784);e=N(f&d|c&~d,e,f,b[7],14,1735328473);d=N(e&c|f&~c,d,e,b[12],20,-1926607734);c=N(d^e^f,c,d,b[5],4,-378558);f=N(c^d^e,f,c,b[8],11,-2022574463);e=N(f^c^d,e,f,b[11],16,1839030562);d=N(e^f^c,d,e,b[14],23,-35309556);c=N(d^e^f,c,d,b[1],4,-1530992060);f=N(c^d^e,f,c,b[4],11,1272893353);e=N(f^c^d,e,f,b[7],16,-155497632);d=N(e^f^c,d,e,b[10],23,-1094730640);c=N(d^
e^f,c,d,b[13],4,681279174);f=N(c^d^e,f,c,b[0],11,-358537222);e=N(f^c^d,e,f,b[3],16,-722521979);d=N(e^f^c,d,e,b[6],23,76029189);c=N(d^e^f,c,d,b[9],4,-640364487);f=N(c^d^e,f,c,b[12],11,-421815835);e=N(f^c^d,e,f,b[15],16,530742520);d=N(e^f^c,d,e,b[2],23,-995338651);c=N(e^(d|~f),c,d,b[0],6,-198630844);f=N(d^(c|~e),f,c,b[7],10,1126891415);e=N(c^(f|~d),e,f,b[14],15,-1416354905);d=N(f^(e|~c),d,e,b[5],21,-57434055);c=N(e^(d|~f),c,d,b[12],6,1700485571);f=N(d^(c|~e),f,c,b[3],10,-1894986606);e=N(c^(f|~d),e,
f,b[10],15,-1051523);d=N(f^(e|~c),d,e,b[1],21,-2054922799);c=N(e^(d|~f),c,d,b[8],6,1873313359);f=N(d^(c|~e),f,c,b[15],10,-30611744);e=N(c^(f|~d),e,f,b[6],15,-1560198380);d=N(f^(e|~c),d,e,b[13],21,1309151649);c=N(e^(d|~f),c,d,b[4],6,-145523070);f=N(d^(c|~e),f,c,b[11],10,-1120210379);e=N(c^(f|~d),e,f,b[2],15,718787259);d=N(f^(e|~c),d,e,b[9],21,-343485551);a[0]=c+a[0]&4294967295;a[1]=d+a[1]&4294967295;a[2]=e+a[2]&4294967295;a[3]=f+a[3]&4294967295},N=(a,b,c,d,e,f)=>{b=(b+a&4294967295)+(d+f&4294967295)&
4294967295;return(b<<e|b>>>32-e)+c&4294967295},jd=a=>{const b=a.length,c=[1732584193,-271733879,-1732584194,271733878];let d;for(d=64;d<=a.length;d+=64){var e=a.substring(d-64,d);const f=[];for(let g=0;64>g;g+=4)f[g>>2]=e.charCodeAt(g)+(e.charCodeAt(g+1)<<8)+(e.charCodeAt(g+2)<<16)+(e.charCodeAt(g+3)<<24);id(c,f)}a=a.substring(d-64);e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(d=0;d<a.length;d++)e[d>>2]|=a.charCodeAt(d)<<(d%4<<3);e[d>>2]|=128<<(d%4<<3);if(55<d)for(id(c,e),d=0;16>d;d++)e[d]=0;e[14]=8*b;
id(c,e);return c},kd="0123456789abcdef".split(""),ld=a=>{for(let c=0;c<a.length;c++){var b=a[c];let d="";for(let e=0;4>e;e++)d+=kd[b>>8*e+4&15]+kd[b>>8*e&15];a[c]=d}return a.join("")};ld(jd("hello"));self.Wd=a=>ld(jd(a));"use strict";const O=self.$a,M=self.ff,md=self.ef,nd=self.jf,od=self.kf,pd=self.lf;let H=null,P=null,Q=null,R=null,T=null;
const qd={CreateBannerAdvert:async(a,b,c,d,e,f)=>{await O.qa(f,c)&&(e&&H&&(await H.Gd,await qc(()=>!0),H.j(),H=null),c=await M.aa,H||(H=new md(a,b,d,f)),H.U(c,f))},ShowBannerAdvert:async a=>{if(!H)return O.v(a,"banner ad not created");H.Ta(a)},HideBannerAdvert:async a=>{if(!H)return O.v(a,"banner ad not created");qc(a)},CreateInterstitialAdvert:async(a,b,c)=>{if(P){if(P.I)return O.F(c,"interstitial ad already showing");P.H?(a=await P.K(),P.Ra(a,c)):(a=await M.aa,P.U(a,c))}else await O.qa(c,b)&&(b=
await M.aa,P=new nd(a,c),P.U(b,c))},ShowInterstitialAdvert:async a=>{if(!P)return O.v(a,"interstitial ad not created");P.Ta(a)},CreateVideoAdvert:async(a,b,c)=>{if(Q||R){if(R){if(R.I)return O.F(c,"rewarded ad already showing");R.H?(a=await R.K(),R.Ra(a,c)):(a=await M.aa,R.U(a,c));return}if(Q){if(Q.I)return O.F(c,"rewarded ad already showing");Q.H?(a=await Q.K(),Q.Ra(a,c)):(a=await M.aa,Q.U(a,c));return}}await O.qa(c,b)&&(b=await M.aa,Q=new od(a,c),Q.U(b,c))},ShowVideoAdvert:async a=>{if(!Q)return O.v(a,
"video ad not created");Q.Ta(a)},CreateRewardedAdvert:async(a,b,c)=>{if(R||Q){if(R){if(R.I)return O.F(c,"rewarded ad already showing");R.H?(a=await R.K(),R.Ra(a,c)):(a=await M.aa,R.U(a,c));return}if(Q){if(Q.I)return O.F(c,"rewarded ad already showing");Q.H?(a=await Q.K(),Q.Ra(a,c)):(a=await M.aa,Q.U(a,c));return}}await O.qa(c,b)&&(b=await M.aa,R=new od(a,c),R.U(b,c))},ShowRewardedAdvert:async a=>{if(!R)return O.v(a,"rewarded ad not created");R.Ta(a)},CreateRewardedInterstitialAdvert:async(a,b,c)=>
{if(T){if(T.I)return O.F(c,"rewarded interstitial ad already showing");T.H?(a=await T.K(),T.Ra(a,c)):(a=await M.aa,T.U(a,c))}else await O.qa(c,b)&&(b=await M.aa,T=new pd(a,c),T.U(b,c))},ShowRewardedInterstitialAdvert:async a=>{if(!T)return O.v(a,"rewarded interstitial ad not created");T.Ta(a)},Configure:async(a,b,c,d,e,f,g,h,l)=>{const m=!O.rf();O.yf(a,b,c,d,e,f,g);if(!await O.qa(l,f))return ed(l,"failure to initialize");m&&await M.ge();if(!await Wc(f,g,l))return ed(l,"failure to update consent information");
m?h?await Sc(M,"eu"):await cd(M):await Sc(M,"always");await dd(l)},RequestConsent:async a=>{qd.Configure(O.ab.id,O.ab.qg,O.ab.pg,O.ab.tg,"always",O.ab.debug,O.ab.kg,!1,a)},SetMaxAdContentRating:async(a,b)=>{if(await O.qa(b)){if(!a)return O.v(b,"Label not specified");try{O.ed("maxAdContentRating",a),O.F(b,"")}catch(c){O.v(b,"invalid label")}}},TagForChildDirectedTreatment:async(a,b)=>{if(await O.qa(b))try{O.ed("tagForChildDirectedTreatment",1===a?!0:!1),O.F(b,"")}catch(c){O.v(b,"invalid label")}},
TagForUnderAgeOfConsent:async(a,b)=>{if(await O.qa(b))try{O.ed("tagForUnderAgeOfConsent",1===a?!0:!1),O.F(b,"")}catch(c){O.v(b,"invalid label")}},RequestIDFA:async a=>{await O.qa(a)&&Tc(a)},StatusUpdate:async(a,b,c)=>{if(!await O.qa(c,a))return ed(c,"failure to initialize");await Zc(a,b);await fd(c)}};self.C3MobileAdvertsAPI||(self.C3MobileAdvertsAPI={});self.C3MobileAdvertsAPI.real=qd;"use strict";const U={},W=()=>new Promise(a=>setTimeout(a,50));let rd=null,sd=null,td=null,ud=null,vd=null;
function X(a,b){const c=b.slice(0,-1);b=b[b.length-1];console.log(a,c);return[c,b]}U.CreateBannerAdvert=async(...a)=>{[,a]=X("CreateBannerAdvert",a);await W();rd?a("Banner already exists"):(rd="ready",a(null,"Created banner"))};U.ShowBannerAdvert=async(...a)=>{[,a]=X("ShowBannerAdvert",a);await W();"ready"!=rd?a("Banner cannot be shown"):(rd="shown",a(null,"Showed banner"))};
U.HideBannerAdvert=async(...a)=>{[,a]=X("HideBannerAdvert",a);await W();"shown"!=rd?a("Banner cannot be hidden"):(rd=null,a(null,"Hid banner"))};U.CreateInterstitialAdvert=async(...a)=>{[,a]=X("CreateInterstitialAdvert",a);await W();sd?a("Intersitial already exists"):(sd="ready",a(null,"Created interstitial"))};U.ShowInterstitialAdvert=async(...a)=>{[,a]=X("ShowInterstitialAdvert",a);await W();"ready"!=sd?a("Cannot show interstitial"):(sd=null,a(null,"Interstitial shown"))};
U.CreateVideoAdvert=async(...a)=>{[,a]=X("CreateVideoAdvert",a);await W();td?a("Video already exists"):(td="ready",a(null,"Created video"))};U.ShowVideoAdvert=async(...a)=>{[,a]=X("ShowVideoAdvert",a);await W();"ready"!=td?a("Cannot show video"):(td=null,a(null,'["example type", 20]'))};U.CreateRewardedAdvert=async(...a)=>{[,a]=X("CreateRewardedAdvert",a);await W();ud?a("Rewarded already exists"):(ud="ready",a(null,"Created rewarded"))};
U.ShowRewardedAdvert=async(...a)=>{[,a]=X("ShowRewardedAdvert",a);await W();"ready"!=ud?a("Cannot show rewarded"):(ud=null,a(null,'["example type", 20]'))};U.CreateRewardedInterstitialAdvert=async(...a)=>{[,a]=X("CreateRewardedInterstitialAdvert",a);await W();vd?a("Rewarded intersitial already exists"):(vd="ready",a(null,"Created rewarded interstitial"))};
U.ShowRewardedInterstitialAdvert=async(...a)=>{[,a]=X("ShowRewardedInterstitialAdvert",a);await W();"ready"!=vd?a("Cannot show rewarded interstitial"):(vd=null,a(null,"Rewarded interstitial shown"))};U.Configure=async(...a)=>{[,a]=X("Configure",a);await W();a(null,"PERSONALIZED&&true")};U.RequestConsent=async(...a)=>{[,a]=X("RequestConsent",a);await W();a(null,"PERSONALIZED&&true")};U.RequestIDFA=async(...a)=>{[,a]=X("RequestIDFA",a);await W();a(null,"authorized")};
self.C3MobileAdvertsAPI||(self.C3MobileAdvertsAPI={});self.C3MobileAdvertsAPI.fake=U;"use strict";const Y=self.$a,Z={};let wd=!1,xd=null;
const yd=async a=>{if(!Z.webAdsScriptLoaded)return Y.v(a,"advert script not loaded, likely blocked by an ad blocker"),!1;wd||(self.adsbygoogle=self.adsbygoogle||[],self.adBreak=self.adConfig=b=>self.adsbygoogle.push(b),wd=!0);return xd?xd:xd=new Promise(b=>{self.adConfig({preloadAdBreaks:"on",onReady:()=>b(!0)})})},zd=()=>{Z.suspendRuntime&&Z.suspendRuntime()},Ad=()=>{Z.resumeRuntime&&Z.resumeRuntime()};Z.CreateBannerAdvert=async(a,b,c,d,e,f)=>{Y.v(f,"banner ads not supported in web platform")};
Z.ShowBannerAdvert=async a=>{Y.v(a,"banner ads not supported in web platform")};Z.HideBannerAdvert=async a=>{Y.v(a,"banner ads not supported in web platform")};Z.CreateInterstitialAdvert=async(a,b,c)=>{await yd(c)&&Y.F(c,"interstitial ad created")};Z.ShowInterstitialAdvert=async a=>{await yd(a)&&self.adBreak({type:"next",beforeAd:()=>zd(),afterAd:()=>Ad(),adBreakDone:b=>{switch(b.breakStatus){case "viewed":case "dismissed":Y.F(a,"interstitial ad show");break;default:console.table(b),Y.v(a,"interstitial ad failed to show")}}})};
Z.CreateVideoAdvert=async(a,b,c)=>{Y.v(c,"video ads are deprecated")};Z.ShowVideoAdvert=async a=>{Y.v(a,"video ads are deprecated")};Z.CreateRewardedAdvert=async(a,b,c)=>{await yd(c)&&Y.F(c,"rewarded ad created")};
Z.ShowRewardedAdvert=async a=>{await yd(a)&&self.adBreak({type:"reward",beforeAd:()=>zd(),afterAd:()=>Ad(),adBreakDone:b=>{switch(b.breakStatus){case "viewed":case "dismissed":Y.F(a,"rewarded ad show");break;case "ignored":Y.v(a,"rewarded ad ignored");break;default:console.table(b),Y.v(a,"rewarded ad failed to show")}},beforeReward:b=>{b()},adDismissed:()=>{Y.v(a,"closed with no reward")},adViewed:()=>{Y.F(a,JSON.stringify(["Reward",1]))}})};
Z.CreateRewardedInterstitialAdvert=async(a,b,c)=>{await yd(c)&&Y.F(c,"rewarded interstitial ad created")};
Z.ShowRewardedInterstitialAdvert=async a=>{await yd(a)&&self.adBreak({type:"reward",beforeAd:()=>zd(),afterAd:()=>Ad(),adBreakDone:b=>{switch(b.breakStatus){case "viewed":case "dismissed":Y.F(a,"rewarded interstitial ad show");break;case "ignored":Y.v(a,"rewarded interstitial ad ignored");break;default:console.table(b),Y.v(a,"rewarded interstitial ad failed to show")}},beforeReward:b=>{b()},adDismissed:()=>{Y.v(a,"closed with no reward")},adViewed:()=>{Y.F(a,JSON.stringify(["Reward",1]))}})};
Z.Configure=async(a,b,c,d,e,f,g,h,l)=>{Z.webAdsScriptLoaded?Y.F(l,"UNKNOWN&&not-determined&&true"):Y.v(l,"advert script not loaded, likely blocked by an ad blocker")};Z.RequestConsent=async a=>{Y.F(a,"UNKNOWN&&not-determined&&true")};Z.SetMaxAdContentRating=async(a,b)=>{Y.v(b,"setting max ad content rating not supported in web platform")};Z.TagForChildDirectedTreatment=async(a,b)=>{Y.v(b,"tagging for children not supported in web platform")};Z.TagForUnderAgeOfConsent=async(a,b)=>{Y.v(b,"tagging for under age of consent not supported in web platform")};
Z.RequestIDFA=async a=>{Y.F(a,"not-determined")};Z.StatusUpdate=async(a,b,c)=>{Y.F(c,"UNKNOWN&&not-determined&&true")};self.C3MobileAdvertsAPI||(self.C3MobileAdvertsAPI={});self.C3MobileAdvertsAPI.web=Z;"use strict";let Bd=!1;
async function Cd(a,b,c){const d=Dd();d.suspendRuntime||(d.suspendRuntime=()=>{a.l.eb("runtime","visibilitychange",{hidden:!0})});d.resumeRuntime||(d.resumeRuntime=()=>{a.l.eb("runtime","visibilitychange",{hidden:!1})});if(!d)throw Bd||(Bd=!0,console.warn("The Mobile Advert plugin is not loaded. Please note that it only works in Android or iOS exports")),Error("advert plugin not loaded");return new Promise((e,f)=>{(0,d[b])(...c,(g,h)=>{g?f(g):e(h)})})}
async function Ed(a,b=null){const c=Dd();c.webAdsScriptLoaded=!1;return new Promise(d=>{const e=document.createElement("script");if(b)for(let f in b)e.setAttribute(f,b[f]);e.onload=function(){c.webAdsScriptLoaded=!0;d()};e.onerror=function(){c.webAdsScriptLoaded=!1;d()};e.src=a;document.head.appendChild(e)})}function Dd(){if(self.cordova)return self.C3MobileAdvertsAPI.real;if(!self.cordova)return self.C3MobileAdvertsAPI.web}
self.Ia.rb(class extends self.bb{constructor(a){super(a,"advert");a=b=>[b,c=>Cd(this,b,c)];ca(this,[a("CreateBannerAdvert"),a("ShowBannerAdvert"),a("HideBannerAdvert"),a("CreateInterstitialAdvert"),a("ShowInterstitialAdvert"),a("CreateVideoAdvert"),a("ShowVideoAdvert"),a("CreateRewardedAdvert"),a("ShowRewardedAdvert"),a("CreateRewardedInterstitialAdvert"),a("ShowRewardedInterstitialAdvert"),a("Configure"),a("RequestConsent"),a("SetUserPersonalisation"),a("SetMaxAdContentRating"),a("TagForChildDirectedTreatment"),
a("TagForUnderAgeOfConsent"),a("RequestIDFA"),a("StatusUpdate"),(b=>[b,c=>Ed(c[0],c[1])])("AddScript")])}});
